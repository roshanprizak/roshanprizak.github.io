[
  {
    "objectID": "posts/welcome/index.html",
    "href": "posts/welcome/index.html",
    "title": "Welcome!",
    "section": "",
    "text": "First blog post. More to come. Watch this space."
  },
  {
    "objectID": "projects/the_india_project/telugu_movies/telugu_movies.html",
    "href": "projects/the_india_project/telugu_movies/telugu_movies.html",
    "title": "Telugu films and gender inequality",
    "section": "",
    "text": "The lead male actor (the “hero”) and the lead female actor (the “heroine”) are important roles in a film, and more so in Indian films. In mainstream Indian films, it has been noticed that the actor who plays the hero (I’ll interchangeably refer to the actor as lead male actor or hero, the context should make it clear) is often a lot older compared to the actor who plays the heroine, but the ages of the characters they play in the film are comparable.\nDoes this age gap exist across decades and in various regions of Indian cinema? What are the differences between the careers of heroes and heroines? How does marriage affect them? In this project, I’ll delve into such issues and understand some aspects of gender inequalities in Indian cinema."
  },
  {
    "objectID": "projects/the_india_project/telugu_movies/telugu_movies.html#pilot-age-gaps-for-major-heroes",
    "href": "projects/the_india_project/telugu_movies/telugu_movies.html#pilot-age-gaps-for-major-heroes",
    "title": "Telugu films and gender inequality",
    "section": "Pilot: age gaps for major heroes",
    "text": "Pilot: age gaps for major heroes\nAs a starting point, I had scraped Wikipedia and other public sources and prepared a database of films of a few heroes in mainstream Indian cinema, along with the ages of the hero and the heroine in each film. I also depict genres extracted from the film Wikipedia pages. Here are some of those.\n\n\n\n\n\n\n\n\n\n\nSelect an actor:\n\n\n  \n\n\n  \n\n\n  \n\n\n  \n\n\n  \n\n\n  \n\n\n  \n\n\n  \n\n\n  \n\n\n  \n\n\n  \n\n\n  \n\n\n\n\n\n\nhero_names = [\n    'Aamir Khan', 'Mahesh Babu', 'Akshay Kumar'\n];\n\n// viewof input = Inputs.select(hero_names, {value: 'Aamir Khan', label: 'Choose lead male actor'})\n\nfunction displayImage(option) {\n  return `<a href=\"./hero_based_age_gap/${option}.png\" class=\"lightbox\" title=\"${option}\" data-gallery=\"my-gallery\">${option}</a>`\n  // return `<p><a href=\"hero_based_age_gap/${option}.png\" class=\"lightbox\" data-gallery=\"my-gallery\" title=\"Resolution writing as part of the October 2022 (online) session on “Energy Security &amp; Health”.\"><img class=\"img-fluid figure-img zoomable\" src=\"hero_based_age_gap/${option}.png\" width=\"100%\"></img></a></p>`;\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nFor all the major heroes shown here, the age gaps between the hero and heroine increase with time, and are sometimes as large as 30 years. So how has this changed over the years? How does marriage affect the careers of heroes and heroines? I wanted to look at this more systematically and widely across time and space in India."
  },
  {
    "objectID": "projects/the_india_project/telugu_movies/telugu_movies.html#a-deeper-dive-into-telugu-cinema",
    "href": "projects/the_india_project/telugu_movies/telugu_movies.html#a-deeper-dive-into-telugu-cinema",
    "title": "Telugu films and gender inequality",
    "section": "A deeper dive into Telugu cinema",
    "text": "A deeper dive into Telugu cinema\nI chose to take a closer look at Telugu cinema and investigate age gaps, careers and other such aspects. First, I extracted information about Telugu films and their cast from 1940 till 2023 June from Wikipedia pages. For each Telugu film, I made an initial list of film title, year it got released and the main cast. I extracted this information from the yearly film list pages on Wikipedia. From this main cast list for each film, I identified the “hero” and the “heroine”. This requires one to infer the gender of each cast member. The way I did this is by looking at their Wikipedia pages if available (or by performing an automated search on DuckDuckGo if Wikipedia page is unavailable), and counting the number of occurrences of the words actor, he, him, his as compared to actress, she, her.\nFor a similar analysis of Bollywood films, go here.\n\n\n\n\n\n\nIdentifying the hero and the heroine of a film\n\n\n\n\n\nIdentifying the hero and heroine of a film from such a main cast comes with some asssumptions and issues. The main assumption is make by default is that the first male cast member is the hero and the first female cast member is the heroine. However,\n1.) Many films have multiple heroes and heroines.\nIn such cases, I only assign one hero and one heroine. Further the heroes and heroines can be “paired” in any combination. The cast order doesn’t inform us about which hero is paired with which heroine.\nFor example, సీతమ్మ వాకిట్లో సిరిమల్లె చెట్టు (Seethamma Vakitlo Sirimalle Chettu) from 2013 has cast is listed as Mahesh Babu, Venkatesh, Anjali, Samantha, Prakash Raj, Jayasudha. Our method would identify Mahesh Babu as the hero and Anjali as the heroine, while Mahesh Babu and Samantha are paired together.\n2.) Some films don’t have a hero or a heroine.\nThe assumption that each film necessarily has a hero and a heroine itself doesn’t hold true for a few films. For example, ఈనాడు (Eenadu) from 2009 has Kamal Haasan and Venkatesh as the main cast, with no heroine credited.\n3.) What should the relationship be between the hero and the heroine?\nDoes relationship necessarily have to be a romantic one? Or does importance to the film’s plot take prominence over a romantic pairing of the potential hero and the potential heroine?\nTake రుద్రమదేవి (Rudhramadevi) from 2015 for example. Cast is listed as Anushka Shetty, Allu Arjun, Rana Daggubati. While our method would correctly identify Anushka Shetty as the heroine, Allu Arjun is identified as the hero while Rana Daggubati plays the character who romances Anushka Shetty.\nAnother recent example is Godfather (2022) whose main cast is Chiranjeevi, Nayanthara, Salman Khan, Satya Dev. While Chiranjeevi is the hero, the heroine Nayanthara is not the hero’s romantic interest. In fact, the hero doesn’t romance anyone.\nMy approach\nThe approach I took is the following. The first cast member is always the “lead” - it is mostly the hero, but sometimes the heroine. The other (heroine in cast the lead is the hero, otherwise the hero), is the next cast member of the opposite gender. In most cases, this covers both (a) the romantic hero-heroine pair, and (b) the non-romantic hero and heroine. Sometimes, the lead has a romantic interest in some other case member that is not the identified heroine/hero. I identified a few of these cases individually and switched the heroine/hero so that in the presence of a romantic interest, the heroine/hero is not the first cast member of the opposite gender but someone else. Romantic interest takes priority over listed cast order. However, I didn’t cover all of these films. These are only edge cases and do not dominate the bulk of Telugu films. In any case, I created two datasets: (a) High+ confidence dataset, in which the hero and the heroine are unambiguously the first and second cast members and (b) Low+ confidence dataset, in which there is some ambiguity in the hero and the heroine because of the cast order. The High+ confidence dataset will exclude multistarrer movies as identifying the hero (or the heroine) difficult. While the overall statistics change only very little between thye datasets, you can still switch between the datasets here.\n High+ confidence dataset Low+ confidence dataset"
  },
  {
    "objectID": "projects/the_india_project/telugu_movies/telugu_movies.html#ages-and-age-gaps-over-the-years",
    "href": "projects/the_india_project/telugu_movies/telugu_movies.html#ages-and-age-gaps-over-the-years",
    "title": "Telugu films and gender inequality",
    "section": "Ages and age gaps over the years",
    "text": "Ages and age gaps over the years\nOnce the hero and heroine were identified, I extracted their birth years (along with their wedding years and place of birth if available) from their Wikipedia pages and from searches on DuckDuckGo and Google. An automated process that relies on DuckDuckGo search to extract this information is riddled with inaccuracies as (a) often there are many people who share similar names, or (b) the cast members are only credited with a short name/nickname that is ambiguous, or (c) the birth year on the internet is not reliable. Hence, I mainly relied on Wikipedia, but fell back to DuckDuckGo + manual curation for a handful of heroes and heroines who have starred in multiple films.\nUsing the birth years, I calculated the ages of the hero and the heroine for each movie.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n Because of the issues I mentioned earlier, not all movies have both the hero’s age and the heroine’s age available. Here’s their availability over the years."
  },
  {
    "objectID": "projects/the_india_project/telugu_movies/telugu_movies.html#hero-grid-age-gaps-for-each-hero",
    "href": "projects/the_india_project/telugu_movies/telugu_movies.html#hero-grid-age-gaps-for-each-hero",
    "title": "Telugu films and gender inequality",
    "section": "Hero grid: age-gaps for each hero",
    "text": "Hero grid: age-gaps for each hero\nTo make the visualization of this age-gap data easier, I made individual plots for each major hero/heroine showing the age-gap over their careers. Click on a hero to view his career age-gap trajectory:"
  },
  {
    "objectID": "projects/the_india_project/telugu_movies/telugu_movies.html#heroine-grid-age-gaps-for-each-heroine",
    "href": "projects/the_india_project/telugu_movies/telugu_movies.html#heroine-grid-age-gaps-for-each-heroine",
    "title": "Telugu films and gender inequality",
    "section": "Heroine grid: age-gaps for each heroine",
    "text": "Heroine grid: age-gaps for each heroine\nClick on a heroine to view her career age-gap trajectory:"
  },
  {
    "objectID": "projects/the_india_project/telugu_movies/telugu_movies.html#debuts-and-exits",
    "href": "projects/the_india_project/telugu_movies/telugu_movies.html#debuts-and-exits",
    "title": "Telugu films and gender inequality",
    "section": "Debuts and exits",
    "text": "Debuts and exits\n\n\n\n\n\n\n\nHero career spans\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nHeroine career spans"
  },
  {
    "objectID": "projects/the_india_project/telugu_movies/telugu_movies.html#careers-and-marriages",
    "href": "projects/the_india_project/telugu_movies/telugu_movies.html#careers-and-marriages",
    "title": "Telugu films and gender inequality",
    "section": "Careers and marriages",
    "text": "Careers and marriages\nI only considered the year of first marriage in case an actor was married multiple times. Also, not knowing the marriage year doesn’t automatically mean that the actor is unmarried. So it is difficult to consider the careers of unmarried actors."
  },
  {
    "objectID": "projects/the_india_project/telugu_movies/telugu_movies.html#female-lead-films-and-genres",
    "href": "projects/the_india_project/telugu_movies/telugu_movies.html#female-lead-films-and-genres",
    "title": "Telugu films and gender inequality",
    "section": "Female-lead films and genres",
    "text": "Female-lead films and genres\nFor each year, I also checked what fraction of films have the first cast member as a female, meaning the heroine is credited before the hero. I’ve taken this as a sign that the film is a female-lead one. I also extracted the genres for each film from Wikipedia and IMDB whenever available."
  },
  {
    "objectID": "projects/the_india_project/telugu_movies/telugu_movies.html#where-have-heroes-and-heroines-come-from",
    "href": "projects/the_india_project/telugu_movies/telugu_movies.html#where-have-heroes-and-heroines-come-from",
    "title": "Telugu films and gender inequality",
    "section": "Where have heroes and heroines come from?",
    "text": "Where have heroes and heroines come from?"
  },
  {
    "objectID": "projects/the_india_project/telugu_movies/telugu_movies.html#actors-as-heroesheroines-vs-as-cast-members",
    "href": "projects/the_india_project/telugu_movies/telugu_movies.html#actors-as-heroesheroines-vs-as-cast-members",
    "title": "Telugu films and gender inequality",
    "section": "Actors as heroes/heroines vs as cast members",
    "text": "Actors as heroes/heroines vs as cast members"
  },
  {
    "objectID": "projects/the_india_project/hindi_movies/hindi_movies.html",
    "href": "projects/the_india_project/hindi_movies/hindi_movies.html",
    "title": "Bollywood films and gender inequality",
    "section": "",
    "text": "The lead male actor (the “hero”) and the lead female actor (the “heroine”) are important roles in a film, and more so in Indian films. In mainstream Indian films, it has been noticed that the actor who plays the hero (I’ll interchangeably refer to the actor as lead male actor or hero, the context should make it clear) is often a lot older compared to the actor who plays the heroine, but the ages of the characters they play in the film are comparable.\nDoes this age gap exist across decades and in various regions of Indian cinema? What are the differences between the careers of heroes and heroines? How does marriage affect them? In this project, I’ll delve into such issues and understand some aspects of gender inequalities in Indian cinema."
  },
  {
    "objectID": "projects/the_india_project/hindi_movies/hindi_movies.html#a-deeper-dive-into-bollywood",
    "href": "projects/the_india_project/hindi_movies/hindi_movies.html#a-deeper-dive-into-bollywood",
    "title": "Bollywood films and gender inequality",
    "section": "A deeper dive into Bollywood",
    "text": "A deeper dive into Bollywood\nIn this project, I consider Bollywood and investigate age gaps, careers and other such aspects. First, I extracted information about Hindi films and their cast from 1940 till 2023 June from Wikipedia pages. For each Hindi film, I made an initial list of film title, year it got released and the main cast. I extracted this information from the yearly film list pages on Wikipedia. From this main cast list for each film, I identified the “hero” and the “heroine”. This requires one to infer the gender of each cast member. The way I did this is by looking at their Wikipedia pages if available (or by performing an automated search on DuckDuckGo if Wikipedia page is unavailable), and counting the number of occurrences of the words actor, he, him, his as compared to actress, she, her.\nFor a similar analysis of Telugu films, go here.\n\n\n\n\n\n\nIdentifying the hero and the heroine of a film\n\n\n\n\n\nIdentifying the hero and heroine of a film from such a main cast comes with some asssumptions and issues. The main assumption is make by default is that the first male cast member is the hero and the first female cast member is the heroine. However,\n1.) Many films have multiple heroes and heroines.\nIn such cases, I only assign one hero and one heroine. Further the heroes and heroines can be “paired” in any combination. The cast order doesn’t inform us about which hero is paired with which heroine.\nFor example, दृश्यम 2 (Drishyam) from 2022 has cast is listed as Ajay Devgn, Akshaye Khanna, Tabu, Shriya Saran. Our method would identify Ajay Devgn as the hero and Tabu as the heroine, while Ajay Devgn and Shriya Saran are paired together.\n2.) Some films don’t have a hero or a heroine.\nThe assumption that each film necessarily has a hero and a heroine itself doesn’t hold true for a few films. For example, An Action Hero from 2022 has Ayushmann Khurrana and Jaideep Ahlawat as the main cast, with no heroine credited. Jalsa from 2022 has Vidya Balan and Shefali Shah in the lead roles, with no hero credited.\n3.) What should the relationship be between the hero and the heroine?\nDoes relationship necessarily have to be a romantic one? Or does importance to the film’s plot take prominence over a romantic pairing of the potential hero and the potential heroine?\nTake Pink from 2016 for example. Amitabh Bachchan and Taapsee Pannu are (correctly) identified as the hero and the heroine, but they don’t share a romantic relationship.\nMy approach\nThe approach I took is the following. The first cast member is always the “lead” - it is mostly the hero, but sometimes the heroine. The other (heroine in cast the lead is the hero, otherwise the hero), is the next cast member of the opposite gender. In most cases, this covers both (a) the romantic hero-heroine pair, and (b) the non-romantic hero and heroine. Sometimes, the lead has a romantic interest in some other case member that is not the identified heroine/hero. To tackle such ambiguities, I created two datasets: (a) High+ confidence dataset, in which the hero and the heroine are unambiguously the first and second cast members and (b) Low+ confidence dataset, in which there is some ambiguity in the hero and the heroine because of the cast order. The High+ confidence dataset will exclude multistarrer movies as identifying the hero (or the heroine) difficult. While the overall statistics change only very little between thye datasets, you can still switch between the datasets here.\n High+ confidence dataset Low+ confidence dataset"
  },
  {
    "objectID": "projects/the_india_project/hindi_movies/hindi_movies.html#ages-and-age-gaps-over-the-years",
    "href": "projects/the_india_project/hindi_movies/hindi_movies.html#ages-and-age-gaps-over-the-years",
    "title": "Bollywood films and gender inequality",
    "section": "Ages and age gaps over the years",
    "text": "Ages and age gaps over the years\nOnce the hero and heroine were identified, I extracted their birth years (along with their wedding years and place of birth if available) from their Wikipedia pages and from searches on DuckDuckGo and Google. An automated process that relies on DuckDuckGo search to extract this information is riddled with inaccuracies as (a) often there are many people who share similar names, or (b) the cast members are only credited with a short name/nickname that is ambiguous, or (c) the birth year on the internet is not reliable. Hence, I mainly relied on Wikipedia, but fell back to DuckDuckGo + manual curation for a handful of heroes and heroines who have starred in multiple films.\nUsing the birth years, I calculated the ages of the hero and the heroine for each movie.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n Because of the issues I mentioned earlier, not all movies have both the hero’s age and the heroine’s age available. Here’s their availability over the years."
  },
  {
    "objectID": "projects/the_india_project/hindi_movies/hindi_movies.html#hero-grid-age-gaps-for-each-hero",
    "href": "projects/the_india_project/hindi_movies/hindi_movies.html#hero-grid-age-gaps-for-each-hero",
    "title": "Bollywood films and gender inequality",
    "section": "Hero grid: age-gaps for each hero",
    "text": "Hero grid: age-gaps for each hero\nTo make the visualization of this age-gap data easier, I made individual plots for each major hero/heroine showing the age-gap over their careers. Click on a hero to view his career age-gap trajectory:"
  },
  {
    "objectID": "projects/the_india_project/hindi_movies/hindi_movies.html#heroine-grid-age-gaps-for-each-heroine",
    "href": "projects/the_india_project/hindi_movies/hindi_movies.html#heroine-grid-age-gaps-for-each-heroine",
    "title": "Bollywood films and gender inequality",
    "section": "Heroine grid: age-gaps for each heroine",
    "text": "Heroine grid: age-gaps for each heroine\nClick on a heroine to view her career age-gap trajectory:"
  },
  {
    "objectID": "projects/the_india_project/hindi_movies/hindi_movies.html#debuts-and-exits",
    "href": "projects/the_india_project/hindi_movies/hindi_movies.html#debuts-and-exits",
    "title": "Bollywood films and gender inequality",
    "section": "Debuts and exits",
    "text": "Debuts and exits\n\n\n\n\n\n\n\nHero career spans\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nHeroine career spans"
  },
  {
    "objectID": "projects/the_india_project/hindi_movies/hindi_movies.html#careers-and-marriages",
    "href": "projects/the_india_project/hindi_movies/hindi_movies.html#careers-and-marriages",
    "title": "Bollywood films and gender inequality",
    "section": "Careers and marriages",
    "text": "Careers and marriages\nI only considered the year of first marriage in case an actor was married multiple times. Also, not knowing the marriage year doesn’t automatically mean that the actor is unmarried. So it is difficult to consider the careers of unmarried actors."
  },
  {
    "objectID": "projects/the_india_project/hindi_movies/hindi_movies.html#female-lead-films-and-genres",
    "href": "projects/the_india_project/hindi_movies/hindi_movies.html#female-lead-films-and-genres",
    "title": "Bollywood films and gender inequality",
    "section": "Female-lead films and genres",
    "text": "Female-lead films and genres\nFor each year, I also checked what fraction of films have the first cast member as a female, meaning the heroine is credited before the hero. I’ve taken this as a sign that the film is a female-lead one."
  },
  {
    "objectID": "projects/the_india_project/hindi_movies/hindi_movies.html#actors-as-heroesheroines-vs-as-cast-members",
    "href": "projects/the_india_project/hindi_movies/hindi_movies.html#actors-as-heroesheroines-vs-as-cast-members",
    "title": "Bollywood films and gender inequality",
    "section": "Actors as heroes/heroines vs as cast members",
    "text": "Actors as heroes/heroines vs as cast members"
  },
  {
    "objectID": "projects/the_india_project/car_prices_india/car_prices_india.html",
    "href": "projects/the_india_project/car_prices_india/car_prices_india.html",
    "title": "How affordable are cars with 6+ airbags?",
    "section": "",
    "text": "In September 2022, the Ministry of Road Transport & Highways in the Indian government released an ad regarding road safety. This ad, featuring actor Akshay Kumar as a police officer, takes a jibe at the father of the girl who just got married and is going away from her (her parents’) home to her in-laws place - vidaai. Akshay Kumar points out that the father is careless for letting the newly married couple leave in a car with just two airbags, and says that he should have instead gotten a car with at least 6 airbags. While the issue with the airbags is correct, this campaign got a lot of criticism for two reasons:\n\nThe ad suggests and encourages the practice of dowry.\nThe ad takes the blame away from inefficient road infrastructure (dividers, dark roads, road design/safety, traffic signs) and unsafe driving, and shifts it towards owners and users of cars for not having bought cars with a large number of airbags.\n\nThe Minister of Road Transport & Highways, Mr. Nitin Gadkari, had pushed for six airbags in cars after renowned industrialist Cyrus Mistry died in a car accident. The transport ministry had been pushing for stricter rules regarding airbags in cars but faced a lot of resistance from some car companies citing increased vehicle prices, so they had settled on October 2022 as a date when new rules would be enforced. However, the government and car companies have drastically different estimates of what four additional airbags would cost - government estimates <$75 while auto market data provider JATO Dynamics estimates $230+. Later that month, the government announced that the date when new rules - all passenger cars would be required to have 6+ airbags - would be enforced, was shifted to October 2023, a year later than the original plan.\nIn any case, what fraction of cars available in the market back then (September 2022, both used and new cars) have 6+ airbags and what is the cost point of these 6+ airbags cars? I went to cardekho.com and scraped off data from there to figure that out myself.\nWhat fraction of cars in the Indian market have 6+ airbags, and how does it differ by budget?"
  },
  {
    "objectID": "projects/the_india_project/car_prices_india/car_prices_india.html#new-cars-september-2022",
    "href": "projects/the_india_project/car_prices_india/car_prices_india.html#new-cars-september-2022",
    "title": "How affordable are cars with 6+ airbags?",
    "section": "New cars, September 2022",
    "text": "New cars, September 2022\nAs expected, the availability of 6+ airbag cars depended on the price point. But what is shocking is that the price point at which a substantial fraction of cars were available with 6+ airbags, was pretty high. Under 5 lakh rupees, no new car was available with 6+ airbags. Under 10 lakh rupees, only 3 cars (approx. 1% of the total new cars available in that price bracket), came with 6+ airbags. Under 15 lakh rupees, only 32 cars (around 7% of the total new cars in the price bracket), and only if one were willing to shell out at least 25 lakh rupees, 210 cars (around 26% of the total new cars in the price bracket) came with 6+ airbags."
  },
  {
    "objectID": "projects/the_india_project/car_prices_india/car_prices_india.html#used-cars-september-2022",
    "href": "projects/the_india_project/car_prices_india/car_prices_india.html#used-cars-september-2022",
    "title": "How affordable are cars with 6+ airbags?",
    "section": "Used cars, September 2022",
    "text": "Used cars, September 2022\nThe situation was not very different in the used car market. Under 3 lakh rupees, only 7 cars (2% of the used cars available in the price bracket), under 5 lakh rupees only 28 cars (2% of the total used cars in the price bracket), and under 10 lakh rupees only 113 cars (5% of the total used cars in the price bracket), came with 6+ airbags."
  },
  {
    "objectID": "projects/the_india_project/car_prices_india/car_prices_india.html#new-cars-june-2023",
    "href": "projects/the_india_project/car_prices_india/car_prices_india.html#new-cars-june-2023",
    "title": "How affordable are cars with 6+ airbags?",
    "section": "New cars, June 2023",
    "text": "New cars, June 2023\nI went back again in June 2023 to see if there have been any changes in the availability and the affordability of cars with 6+ airbags. I only looked at new cars so far, and the situation has only improved marginally, and that too for cars available at a higher price point (> 15 lakh rupees)."
  },
  {
    "objectID": "projects/the_india_project/the_india_project.html",
    "href": "projects/the_india_project/the_india_project.html",
    "title": "The India Project",
    "section": "",
    "text": "Actor-actress age gaps, career and marriage, female-lead films.\nTelugu movies  Hindi movies\n\n\n\n\n\n\n\n\n\n\n\n\nA quick look at new and used cars available in the Indian market in September 2022 and June 2023.\nRead more\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nUse various data on cattle census, milk and meat production and herd models to depict possible lives of individual animals.\nComing soon\n\n\n\n\nUsing NLP techniques, uncover patterns behind the questions and answers in the Question Hour of the Lok Sabha and Rajya Sabha sessions in India.\nComing soon\n\n\n\n\nComing soon"
  },
  {
    "objectID": "projects/the_vienna_project/the_vienna_project.html",
    "href": "projects/the_vienna_project/the_vienna_project.html",
    "title": "The Vienna Project",
    "section": "",
    "text": "Evaluating accessibility of Vienna’s public transport in different parts of the city.\nRead more\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nEvaluating Vienna’s public transport and comparisons with other cities.\nCome up with a framework that incorporates different metrics of evaluating public transport - for instance, connectivity, reliability, robustness, cost-effectiveness, last-mile connectivity, and use them to analyze the “goodness” of public transport in Vienna and other cities around the world.\nComing soon"
  },
  {
    "objectID": "projects/the_vienna_project/closest_public_transport/closest_public_transport.html",
    "href": "projects/the_vienna_project/closest_public_transport/closest_public_transport.html",
    "title": "How close is public transport in Vienna?",
    "section": "",
    "text": "Vienna is considered to have an excellent public transport system, and one of the talking points is the accessibility of some form of public transport or the other in most areas of the city. In this project, I probe this aspect by creating a exhaustive dataset of (all!) addresses in Vienna along with the closest public transport by type (U-bahn, tram, bus, night bus) and the walking distance to this closest stop.\nTo implement this, I used the following datasets and tools:\n\nGTFS feeds of Wiener Linien (and Wiener Lokalbahnen) from transit.land, which contain details about the various public transport stops, coordiantes, routes and schedules.\nAdressen Standorte Wien from Cooperation OGD Österreich, which gives details of addresses in Vienna and their coordinates.\nA local Docker-installation of openrouteservice to query walking distances between addresses and public transport stops.\nR Shiny to create an interactive app allowing users to change district, public transport type, and distance threshold to see which areas of the district have public transport access inside the selected distance threshold.\nAn AWS (Amazon Web Services) EC2 instance to deploy the app and embed here."
  },
  {
    "objectID": "projects/the_vienna_project/closest_public_transport/closest_public_transport.html#interactive-with-r-shiny",
    "href": "projects/the_vienna_project/closest_public_transport/closest_public_transport.html#interactive-with-r-shiny",
    "title": "How close is public transport in Vienna?",
    "section": "Interactive with R Shiny",
    "text": "Interactive with R Shiny\n\n\n\n\n\n\nImportant\n\n\n\nIf you don’t see anything below even after waiting 15 seconds, force your browser to use HTTP instead of HTTPS. Switch back to HTTPS after you are done interacting with the Shiny app.\n\n\n\n\nInteractive exploration in R Shiny"
  },
  {
    "objectID": "projects/the_vienna_project/closest_public_transport/closest_public_transport.html#speeding-up-computations",
    "href": "projects/the_vienna_project/closest_public_transport/closest_public_transport.html#speeding-up-computations",
    "title": "How close is public transport in Vienna?",
    "section": "Speeding up computations",
    "text": "Speeding up computations\nThere are a lot of coordinates for each district, making the task of finding the areas computationally heavy. So currently, I’m sampling addresses from the district such that there aren’t too many addresses too close to each other (they have a high probability of having the same closest public transport). This is one of the reasons why you might notice that some areas that ought to be covered sometimes aren’t. I also use st_simplify with a large dTolerance and st_buffer with a large distance value. This speeds up the process of finding the clouds of areas from a large set of coordinates. This, however, is still slow for large districts like 1020, 1200, 1230, and also for large distance thresholds. Next, I’d like to try other methods of speeding up this computation. Some options are to pre-compute the areas for different thresholds using DBSCAN, a density-based clustering algorithm, and Shapely’s unary_union."
  },
  {
    "objectID": "projects/the_vienna_project/closest_public_transport/closest_public_transport.html#code",
    "href": "projects/the_vienna_project/closest_public_transport/closest_public_transport.html#code",
    "title": "How close is public transport in Vienna?",
    "section": "Code",
    "text": "Code\nThe code is available here on GitHub."
  },
  {
    "objectID": "projects/health/health.html",
    "href": "projects/health/health.html",
    "title": "Health",
    "section": "",
    "text": "Using NLP techniques, network analysis and other data science tools, uncover patterns behind the resolutions adopted by the sessions of the World Health Assembly.\nRead more"
  },
  {
    "objectID": "projects/health/wha_resolutions/analyze_keywords.html",
    "href": "projects/health/wha_resolutions/analyze_keywords.html",
    "title": "A closer look into the resolutions of the World Health Assembly",
    "section": "",
    "text": "In general, WHA is held once every year in May, with the first session being held in 1948 and the 75th session in 2022. Each WHA resolutions is identified by a unique ID of the form WHA{X}.{Y} where X is the session number and Y the resolution number in that session. For example, WHA75.3 corresponds to the 3rd resolution from the 75th session. Each resolution concerns a specific topic, and contains many “clauses” that recognize and acknowledge identified problems, issues and concerns, and suggest, recommend, direct various countries, organization and bodies both within and outside the World Health Organization (WHO) to work towards solutions. For example, these are the first few clauses of WHA73.1 from 2020’s session, titled “COVID-19 response”.\n\n\n\nExample resolution: WHA73.1 COVID-19 response\n\n\nIn this project, I sought to\n\ncreate a dataset of WHA resolutions over the years,\nidentify topics covered by WHA resolutions, and track their time evolution,\nuncover relationships between WHA resolutions and visualize them as a network,\nanalyze how different countries have contributed to WHO’s budget over the years, and\nidentify new questions of interest concerning this dataset and other related issues to take up as future projects.\n\n\n\n\nPipeline"
  },
  {
    "objectID": "projects/health/wha_resolutions/analyze_keywords.html#create-a-dataset-of-wha-resolutions",
    "href": "projects/health/wha_resolutions/analyze_keywords.html#create-a-dataset-of-wha-resolutions",
    "title": "A closer look into the resolutions of the World Health Assembly",
    "section": "Create a dataset of WHA resolutions",
    "text": "Create a dataset of WHA resolutions\nTo create a clean dataset of WHA resolutions, I followed these general steps:\n\nI first obtained the PDF files containing the resolutions from all the WHA sessions so far from the WHO website. I also obtained the titles of these resolutions.\n\nUsing the package PyPDF2, I extracted text from these PDF files and created one text file per resolution.\nFor the above two steps, all resolutions till 2019 have one PDF file per resolution, but 2020-2022 have one PDF file containing all the resolutions. So, to extract one text file per resolution for 2020-2022 as well, and to clean up the text files (get rid of extra spaces, unwatned special characters, headers and footers that are part of scanned PDFs from some years and have been unwantedly retained in the text files, and references of the form COVID-19 response1 from WHA73.1’s title), we run a script that cleans the text files and stores one text file per resolution.\n\n\n\n\nIllustrating the steps from a scanned PDF to a clean TEXT file\n\n\nHaving done these steps, we end up with a list of text files (one per resolution) for each WHA session. We can read these into Python, and see all the information (resolution number of the form WHA{X}.{Y}, title of the resolution, year of the session and the clean text of the resolution) of all the resolutions.\n\n\n\n\n\n\n  \n    \n      \n      number\n      title\n      year\n      text\n    \n  \n  \n    \n      0\n      WHA1.10\n      Regarding the instruction in statistics in med...\n      1948\n      s WHEREAS satisfactory health statistics are d...\n    \n    \n      1\n      WHA1.2\n      Resolution 2: regarding the use of the Interna...\n      1948\n      WHEREAS it is essential that the International...\n    \n    \n      2\n      WHA1.3\n      Resolution 3: regarding the use of lists of se...\n      1948\n      WHEREAS this Conference has adopted for the Si...\n    \n    \n      3\n      WHA1.1\n      Resolution 1: regarding adoption of the Intern...\n      1948\n      WHEREAS in recognition of the general trend of...\n    \n    \n      4\n      WHA1.4\n      Resolution 4: regarding the preparation of a l...\n      1948\n      REAS the Intermediate List of 150 causes does ...\n    \n    \n      ...\n      ...\n      ...\n      ...\n      ...\n    \n    \n      3157\n      WHA75.16\n      Agreement between the World Health Organizatio...\n      2022\n      Having considered the report on the proposed a...\n    \n    \n      3158\n      WHA75.17\n      Human resources for health\n      2022\n      Having considered the report by the Director-G...\n    \n    \n      3159\n      WHA75.18\n      Outcome of the SIDS Summit for Health: For a H...\n      2022\n      Having considered the consolidated report by t...\n    \n    \n      3160\n      WHA75.19\n      Well-being and health promotion\n      2022\n      Having considered the consolidated report by t...\n    \n    \n      3161\n      WHA75.20\n      The global health sector strategies on, respec...\n      2022\n      Having considered the consolidated report by t...\n    \n  \n\n3162 rows × 4 columns\n\n\n\nNote that some of the words in the first session’s resolutions have been cut off at the beginning. There are indeed a few other resolutions where such unwanted errors and typos are present. A common type of typo is a missing space between words. However, these aren’t very common, so I left them as they are."
  },
  {
    "objectID": "projects/health/wha_resolutions/analyze_keywords.html#first-look-at-topics-and-their-time-evolution",
    "href": "projects/health/wha_resolutions/analyze_keywords.html#first-look-at-topics-and-their-time-evolution",
    "title": "A closer look into the resolutions of the World Health Assembly",
    "section": "First look at topics and their time evolution",
    "text": "First look at topics and their time evolution\nTo get a taste of the topics of WHA resolutions and their evolution over time, I chose a few topics of interest like “Sustainability”, “HIV”, “Climate Change”, “COVID-19” etc. and checked how often short phrases related to each of these topics are present in resolutions from different years."
  },
  {
    "objectID": "projects/health/wha_resolutions/analyze_keywords.html#identification-of-topics-and-grouping-by-their-time-evolution",
    "href": "projects/health/wha_resolutions/analyze_keywords.html#identification-of-topics-and-grouping-by-their-time-evolution",
    "title": "A closer look into the resolutions of the World Health Assembly",
    "section": "Identification of topics and grouping by their time evolution",
    "text": "Identification of topics and grouping by their time evolution\nTo uncover more topics covered by WHA resolutions, and use them to find relationships between WHA resolutions, I looked towards natural language processing and network analysis. I used TF-IDF vectorization to find keywords/topics for each resolution and built a network of WHA resolutions by comparing these identified keyword lists.\nI won’t go into many details behind the natural language processing pipeline and will only briefly summarize it. Each resolution is associated with two strings - title and text. For both of these strings, I performed the usual NLP pre-processing steps like tokenization, removal of stop words, and additional text cleaning like removing special characters and numbers. Then, I also stemmized all the tokens (words) in these strings so that different words like “sustainability”, “sustainable”, “sustain”, “sustains”, “sustaining”, “sustained” were all reduced to a common form “sustain”. This collection of cleaned and stemmized documents (each resolution is a document) is called a corpus. We have two stemmized corpuses - corpus_title and corpus_text. For the following explanation, I’ll refer to corpus_text as the corpus, and I used only the corpus_text in this study.\nSo, the corpus is a collection of documents (resolutions), and each document is a collection of words (after having removed special characters, numbers and stop words which are commonly occuring English words like “the”, “a” etc.). For each word in the corpus, I calculated its document frequency, which is the fraction of documents containing the word. For each pair of word and document, I also calculated the TF-IDF score, a score that is a combination of term frequency and inverse document frequency. What is important to note is that TF-IDF score is intended to reflect how important a word is to a document.\nFirst, we’ll check these two values for all the words in the corpus, and also check how the vocabulary size (no. of words) changes as we modify the minimum document frequency and maximum document frequency allowed.\n\n\n\n\n\n\n\n\n\nWords with a very high document frequency are probably those that aren’t very relevant to the specific topic of the resolution, and are just very often used in WHA resolutions. So, using a maximum allowed document frequency is a good way to exclude those words from further analysis. One can use a maximum document frequency of either 0.05 or 0.1. This means that one excludes words that are present in more than 5% (around 150 resolutions) or than 10% (around 300 resolutions) of documents.\nOne can also put a minimum document frequency, which will require words to be present in at least a specific number of resolutions, for example 5, 10 or 50. This will get rid of super-specific words, typos and other such errors. Putting these restrictions on what words to consider, I then proceeded to calculate the TF-IDF score for each document-word pair. Remember, the TF-IDF score is intended to quantify a word’s importance in a document. Then, for each document, I selected the top n_w words with the highest TF-IDF scores.\nI counted both single words (monograms) and two-word phrases (bigrams) - they will be called topics together. Using minimum document frequency as 50 resolutions, maximum document frequency as 5% (around 150 resolutions) and obtaining top n_w = 10 topics from each document, I obtained a total of 1136 unique topics.\nHere are a few examples.\n\n\nWHA2.27: Insulin\nTopics: gener studi, advis, explor, manufactur, possibl, programm adopt\n\nWHA4.48: WHO seals\nTopics: supplement, ona, assembl suspens, toit, inconform, suggest, organ request, gener submit, fund health, gener implement\n\nWHA6.56: Special benefit for retiring Director-General\nTopics: staff pension, pension, save, work capit, capit fund, capit, contract, occur, budget estim, sum\n\nWHA15.34: Malaria eradication special account\nTopics: malaria, erad, special account, erad programm, cash, voluntari contribut, transit, programm request, laid, regularli\n\nWHA23.18: Headquarters accommodation: report on financing\nTopics: headquart, real estat, estat, expens, real, sum, reflect, main, share, outcom\n\nWHA29.37: Amendments to the rules of procedures of the World Health Assembly\nTopics: point, presid, deleg, rule procedur, associ member, add, appeal, aris, follow, statement\n\nWHA29.22: Report on the world health situation\nTopics: health situat, publish, content, analysi, programm work, gener programm, improv qualiti, subsequ health, report request, russian\n\nWHA31.26: Health and medical assistance to Lebanon\nTopics: lebanon, creat, assist provid, injuri, assembl mind, mainten, previou resolut, organ health, peac secur, express appreci\n\nWHA32.22: Collaboration with the United Nations system: cooperation with newly independent and emerging States in Africa: liberation struggle in Southern Africa\nTopics: assembl implement, elect, health year, independ, resolut health\n\nWHA34.33: Collaboration with the United Nations system: cooperation with newly independent and emerging States in Africa: special programme of cooperation with the Republic of Chad\nTopics: chad, special programm, spirit, inclos, technic financi, health situat, programm request, invit member, possibl, region director\n\nWHA35.13: Transfer of the Regional Office for the Eastern Mediterranean\nTopics: advantag, gener prepar, effect implement, goal health, submit health, opinion, resolut ebr, maximum, believ, implement health\n\nWHA36.17: Real estate fund and Headquarters accommodation\nTopics: real estat, estat, real, headquart, main, region offic, construct, casual incom, casual, water\n\nWHA46.12: Assessment of the Czech Republic and the Slovak Republic\nTopics: assess rate, nation scale, rate establish, latest, state concern, fix, replac, budgetari, share, scale assess\n\nWHA47.1: Rights and privileges of South Africa\nTopics: south africa, south, grant, activ health, democrat, elect, instal, anew, constitut health, fulfil\n\nWHA49.21: Collaboration within the United Nations system and with other intergovernmental organizations: strengthening of the coordination of emergency humanitarian assistance\nTopics: humanitarian, document rec, advocaci, disast, prepared, rec, draw attent, anew, assembl resolut, defin\n\nWHA54.9: Assessment of the Federal Republic of Yugoslavia\nTopics: yugoslavia, feder, scale assess, assembl establish, nation scale, latest, principl establish, confirm\n\nWHA71.12: Salaries of staff in ungraded positions and of the Director-General\nTopics: salari, net, annum, remuner, board regard, note recommend, gener establish, gener region, region director, post\n\nWHA75.10: Status of collection of assessed contributions, including Member States in arrears in the payment of their contributions to an extent that would justify invoking Article 7 of the Constitution of the World Health Organization\nTopics: constitut health, open, arrear, invok articl, justifi, invok, vote privileg, suspend, privileg, cameroon\n\n\n\n\nMonograms + bigrams: topics and their time evolution\nTo visualize the found topics and their time evolution of occurance in WHA resolutions, I clustered the topics according to their time trajectory of counts and visualized it as a heatmap. Topics with similar trajectories are clustered together for easier visualization.\n\n\n\n1-gram + 2-gram clustered heatmap of topics\n\n\n\n\nTopic trajectories grouped into clusters\nThe heatmap contains a lot of topics but we see that topics can be put into groups according to the similarity in their time evolution. I performed this grouping quantitatively by employing k-means clustering. Taking a matrix of presence/absence of topics in resolutions each year, I performed k-means clustering for a range of number of clusters to find the optimal number of clusters (elbow point). Then I performed k-means clustering for the optimal number of clusters (32), and visualized the time trajectories of each of these clusters; I also mention some of the topics in each cluster.\n\nTopics grouped according to similarity in time evolution\nOn the y-axis, I plotted a normalized value that reflects the relative occurance of topic words in resolutions by year. Each topic has a different normalization factor, so don’t compare across topics; the plots only reflect relative change over years for each topic."
  },
  {
    "objectID": "projects/health/wha_resolutions/analyze_keywords.html#relationships-among-wha-resolutions",
    "href": "projects/health/wha_resolutions/analyze_keywords.html#relationships-among-wha-resolutions",
    "title": "A closer look into the resolutions of the World Health Assembly",
    "section": "Relationships among WHA resolutions",
    "text": "Relationships among WHA resolutions\nNext, to find relationships among WHA resolutions, I startd from the same TF-IDF based topics for each resolution. Then for each pair of resolutions, I added an “edge” if they share a sufficient number of topics. This way, I generated a network in which nodes are made up of WHA resolutions and edges depict resolution pairs sharing common topics.\nThe set of parameters used to generate the topics and form the edges of the network are crucial towards the characteristics of the network. For example, the parameters we discussed before - minimum document frequency, maximum document frequency, n-grams used, number of topics per resolution - all matter. Fixing the minimum document frequency to 50 documents, maximum document frequency to 10%, using monograms and bigrams, below I varied (a) the number of topics per resolution and (b) minimum number of shared topics to form an edge, to generate a network of WHA resolutions.\nFor each set of parameters, I used the Louvain method for community detection on the resulting network, and calculated a set of metrics to assess the quality of detected communities (partitions). For example, modularity which is the value optimized in the Louvain’s method, measures the density of links inside communities compared to links between communities, is one such metric. A high modularity reflects a good partitioning. However, a lot of nodes (resolutions) with no edges with any other nodes, i.e. resolutions that are in their own partition and aren’t associated with any other resolutions, will result in a high modularity.\nTo correct for this, I also calculated other metrics - number of partitions, number of non-isolated partitions (partitions with more than one resolution in them), fraction of resolutions in non-isolated partitions, and average number of resolutions per non-isolated partition. Among these, fraction of resolutions in non-isolated partitions is a metric that one would like to be high - a lot of resolutions are grouped with one other resolution into some partition this way. As one would expect, more topics per resolution increases this metric, and more common topics to form an edge decreases this metric.\nModularity and the fraction of resolutions in non-isolated partitions follow opposite trends. To balance these two forces, both of which we want to be high, I defined a goodness score of partitioning as their product of these two metrics. I found that this goodness of partition is the highest (0.76) when the number of topics per resolution is 5 and the minimum number of common topics for an edge is 2. So I used those parameters to generate the WHA network.\n\n\nText(0.5, 210.1666666666666, 'Minimum topics for edge')\n\n\n\n\n\n\n\n\n\n\nNetwork of WHA resolutions\n\n\n\nWHA resolution network with nodes colored by the partition they belong to, and topics of the partitions.\n\n\n\n\nTime evolution of topics found via WHA resolution network\nFrom the Louvain partitions of the WHA resolution network, I found the most frequent topics in the resolutions belonging to each partition and assigned them as the “partition topics”.\n\nPartition topics and their time evolution\nFor each topic, on the y-axis, I plotted the fraction of documents per year that mention the topic."
  },
  {
    "objectID": "projects/health/wha_resolutions/analyze_keywords.html#scale-of-assessments",
    "href": "projects/health/wha_resolutions/analyze_keywords.html#scale-of-assessments",
    "title": "A closer look into the resolutions of the World Health Assembly",
    "section": "Scale of assessments",
    "text": "Scale of assessments\nI also extracted the scale of assessments every ten years, specifically for the years 1962, 1972, 1982, 1992, 2002, 2012 and 2022. These denote the percentage contributions to the WHO budget by each country. I visualized these on a heatmap and clustered countries that have contributed similarly over the years into groups.\nThere seem to 4-6 groups of countries according to their level of contributions + changes in their contributions. The USA, China, Canada, Italy, Japan, Germany, France and the UK have contributed most fractions of the budget.\n\nRelative contributions of different countries to WHO budget over the years, countries grouped by similarity\nLighter colors indicate higher contribution\n\n\n\nScale of assessments"
  },
  {
    "objectID": "projects/health/wha_resolutions/analyze_keywords.html#future-directions",
    "href": "projects/health/wha_resolutions/analyze_keywords.html#future-directions",
    "title": "A closer look into the resolutions of the World Health Assembly",
    "section": "Future directions",
    "text": "Future directions\n\nQuantify WHA resolution network characteristics over years in n-year periods: understand evolution of network architecture.\nCompare and supplement usage of resolution titles to such above analysis.\nAnalyze citation network of WHA resolutions.\nExplore different parameter sets (min/max document frequency etc.) to find more general/specific topics, less frequent topics and so on."
  },
  {
    "objectID": "projects/health/wha_resolutions/analyze_keywords.html#code",
    "href": "projects/health/wha_resolutions/analyze_keywords.html#code",
    "title": "A closer look into the resolutions of the World Health Assembly",
    "section": "Code",
    "text": "Code\nThe code is available here on GitHub."
  },
  {
    "objectID": "projects/cricket_analytics/cricket_analytics.html",
    "href": "projects/cricket_analytics/cricket_analytics.html",
    "title": "Cricket Analytics",
    "section": "",
    "text": "Spend time or hit out? How have different strategies affected teams’ winning chances?\nRead more\n\n\n\n\n\n\n\n\n\n\n\n\nDissecting player impacts on the match outcomes by using the win probability index published by ESPNCricinfo.\nRead more\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nTrain a deep network to predict shot played by batters from text commentary and wagon wheel.\nComing soon\n\n\n\n\nDevelop a context-aware measure of extra runs scored by IPL batters and classify batters based on this metric.\nComing soon\n\n\n\n\nSpend time or hit out? How have different strategies affected teams’ winning chances?\nComing soon"
  },
  {
    "objectID": "projects/cricket_analytics/cricket_analytics.html#other-ideas",
    "href": "projects/cricket_analytics/cricket_analytics.html#other-ideas",
    "title": "Cricket Analytics",
    "section": "Other ideas",
    "text": "Other ideas\n\nHow crucial is toss in winning a match? Does this depend on particular aspects of the match like day vs night, venue etc.\nAre umpires biased as revealed by DRS data?\nWhat opener strategies exist and how do they impact match outcomes?\nWhat finisher strategies exist and how do they impact match outcomes?\nWhat is the impact-per-dollar of different players in the IPL and other leagues around the world? Who are the players that have had more impact-per-dollar than their peers in a similar price class?\nHow good is ESPNCricinfo’s score prediction and win probability?\n\nIf you have more ideas that you want to see explored, or if you are interested in discussing/collaborating with me, please feel free to reach out."
  },
  {
    "objectID": "projects/cricket_analytics/ipl_batters_strategies/ipl_batters_strategies.html",
    "href": "projects/cricket_analytics/ipl_batters_strategies/ipl_batters_strategies.html",
    "title": "Batter strategies and their impacts in the IPL",
    "section": "",
    "text": "The role of batters in cricket is to make as many runs as possible for their team, and sometimes, especially in test cricket, to also play as many balls as possible. In T20 cricket, due to the short format, batters can take more risks than in the other longer formats, and hence an increasing emphasis is on scoring as many runs as possible in as little balls as possible. Of course, this doesn’t automatically imply that batters always take risks as it can mean that the team runs out of specialized batters with many overs still left to play. Batters take more risks than in ODIs or tests, thereby allowing quicker scoring, while also spacing out these risks appropriately, to be able to playing out the allotted 20 overs. T20 cricket has also led to very specialized roles for batters and a lot of emphasis is given to ensuring that the best hitters get enough balls to showcase their skills.\nIn the last 14 years since IPL began in 2008, batters in the debatably world’s premier T20 tournament have employed various strategies to make these quick runs. Depending on whether the batter is an opener, a middle-order batter or a finisher, different teams and batters have developed diverse templates. In this project, I investigated individual batter templates and strategies, and their impact on the team’s winning consequences."
  },
  {
    "objectID": "projects/cricket_analytics/ipl_batters_strategies/ipl_batters_strategies.html#the-trade-off-between-strike-rate-and-risk",
    "href": "projects/cricket_analytics/ipl_batters_strategies/ipl_batters_strategies.html#the-trade-off-between-strike-rate-and-risk",
    "title": "Batter strategies and their impacts in the IPL",
    "section": "The trade-off between strike-rate and risk",
    "text": "The trade-off between strike-rate and risk\nThe trade-off between risk and strike-rate takes the center stage in individual batter strategies. A batter willing to take more risk has access to a wider range of shots for each ball, often diverging employing shots that diverge from the prescribed shots in the coaching manual. Some batters like Andre Russell score quick runs while taking more risks. This increases their chance of getting out each ball, and thereby they end up playing fewer balls. Such finishers usually come later in the innings when there aren’t a lot of balls left. Some teams like the Kolkata Knight Riders have often sent out “pinch hitters” like Sunil Narine earlier in the innings, often as an opener. On the other hand, batters like AB de Villiers and Jos Buttler switch gears between low and moderate risk. But even at the highest risk, the emphasis is slightly more on surviving to play another ball than is for batters like Andre Russell. More conventional batters like Mike Hussey, Tendulkar and Kallis rely heavily on a risk-minimal approach unless the situation strongly demands otherwise.\n \nThe figure above illustrates some aspects of this trade-off. Keeping tail-enders aside, notice that batters are spread on the diagonal from the top left to the bottom right. Classical players like Mike Hussey, Kallis, Tendulkar and Gaikwad are in the top left quarter - they play more balls than most others and hit at a lower strike-rate than most others. As we move through the large group of unnamed batters marked in blue, we find another group of players like Maxwell, Pollard and Hardik Pandya who play fewer balls than most others and hit at a higher rate than most others. Some notable exceptions are batters who seem to escape this trade-off, or perhaps push it to its limits - KL Rahul, Jos Buttler, AB de Villiers, Warner, Gayle, Russell and the like.\nOpeners play more balls than the other batter types while also exhibiting a wide range of strike-rates. For example, Gaikwad’s average strike-rate is just short of 100 and Jos Buttler’s is around 135. Gaikwad, however, typically plays a few more balls than Jos Buttler. How do these different strategies impact the match outcome?"
  },
  {
    "objectID": "projects/cricket_analytics/ipl_batters_strategies/ipl_batters_strategies.html#strategy-differences-between-winning-and-losing",
    "href": "projects/cricket_analytics/ipl_batters_strategies/ipl_batters_strategies.html#strategy-differences-between-winning-and-losing",
    "title": "Batter strategies and their impacts in the IPL",
    "section": "Strategy differences between winning and losing",
    "text": "Strategy differences between winning and losing\nSeparating the innings played by each batter into two groups based on whether their team won or lost the match, we can measure how different the batters strategies are in the two groups.\nInstead of measuring the difference between mean strike-rate in wins and mean strike-rate in losses for each batter, we use percentile scores. The mean percentile score from strike-rates in wins (losses) tells us overall in all innings, how often the batter scores slower than they typically score at in wins (losses). The difference between these two values (wins minus losses) quantifies the typical increase (if positive) or decrease (if negative) of strike-rates from losses to wins. A similar logic applies for balls faced - the difference between mean percentile scores in wins and losses quantifies the typical increase (if positive) or decrease (if negative) in the number of balls faced from losses to wins.\n \n\n\nHow is the calculation done? Percentile scores transform data into values between 0 and 1, making comparisons across datasets with different ranges easier. The percentile score of a particular value is the fraction of data that is smaller than the value. We do this for each batter separately for both strike-rates and balls faced. The percentile score of a particular strike-rate (in some particular innings) of a batter tells us how often the batter has scored slower than in that innings. So for the batter’s IPL career-best strike-rate, the percentile score would be 1 (signifying that the batter plays slower in all other innings), and for the batter’s IPL career-worst strike rate, the percentile score would be 0."
  },
  {
    "objectID": "projects/cricket_analytics/ipl_batters_strategies/ipl_batters_strategies.html#interactive-plots",
    "href": "projects/cricket_analytics/ipl_batters_strategies/ipl_batters_strategies.html#interactive-plots",
    "title": "Batter strategies and their impacts in the IPL",
    "section": "Interactive Plots",
    "text": "Interactive Plots\n\ndata = FileAttachment(\"data/ipl_batter_SR_balls.json\").json();\n\n\n\n\n\n\n\nall_batter_names = data.map(row => row.Name)\n\n\n\n\n\n\nHere is an interactive version that presents these features of strike-rates, balls faced and their differences between wins and losses. You can select a subset of batting positions on the right to limit display to those positions. Hovering over a point would reveal the batter information, along with their average performance in wins and losses. When you hover, two small plots pop up on the right edge that reveal how strike-rates and balls faced differ between wins and losses in all individual innings of the batter. After hovering, you can click to label the batter even when you move the mouse away from the point.\n\n\n/* ----------------------------------------------------------\nInteractive plot showing average strike-rates and balls faced\n-------------------------------------------------------------*/\n{\n  // Setting up the overall chart dimensions\n  const margin = ({top: 20, right: 150, bottom: 50, left: 60})\n  const visWidth = 450\n  const visHeight = 450\n\n  var textColor = d3.select(\"p\").style(\"color\")\n  const greyTextColor = \"#212529\"\n\n  // Setting up x and y scales to map from data values to pixel values\n  const extentSR = [d3.min(data, function(d){return Math.min.apply(Math, [d.AvSRWin, d.AvSRLoss])}),\n                d3.max(data, function(d){return Math.max.apply(Math, [d.AvSRWin, d.AvSRLoss])})]; \n\n  const extentBalls = [d3.min(data, function(d){return Math.min.apply(Math, [d.AvBallsWin, d.AvBallsLoss])}),\n                d3.max(data, function(d){return Math.max.apply(Math, [d.AvBallsWin, d.AvBallsLoss])})]; \n\n  // Linear x-scale, domain and range set\n  const x = d3.scaleLinear()\n        .domain(extentSR).nice()\n        .range([0, visWidth]);\n\n  // Linear y-scale, domain and range set\n  const y = d3.scaleLinear()\n        .domain(extentBalls).nice()\n        .range([visHeight, 0]);\n\n  // Creating the x-axis and the y-axis, and their labels\n  \n  // Creating the x-axis\n  const xAxis = (g, scale, label) =>\n    g.attr(\"transform\", `translate(0, ${visHeight})`)\n        // add axis\n        .call(d3.axisBottom(scale))\n      // add label\n      .append(\"text\")\n        .attr(\"x\", visWidth / 2)\n        .attr(\"y\", margin.bottom-5)\n        .attr(\"fill\", textColor)\n        .attr(\"text-anchor\", \"middle\")\n        .attr(\"font-family\", \"roboto\")\n        .attr(\"font-size\", \"18\")\n        .text(label)\n\n  // Creating the y-axis\n  const yAxis = (g, scale, label) => \n    // add axis\n    g.call(d3.axisLeft(scale))\n      // add label\n      .append(\"text\")\n        .attr(\"transform\", \"rotate(-90)\")\n        .attr(\"x\", -visHeight/2)\n        .attr(\"y\", -margin.left+20)\n        .attr(\"fill\", textColor)\n        .attr(\"text-anchor\", \"middle\")\n        .attr(\"font-family\", \"roboto\")\n        .attr(\"font-size\", \"18\")\n        .text(label)\n\n  // Creating the svg inside the visualization margins of the chart: this is where things can be drawn\n  const svg = d3.create(\"svg\")\n      .attr(\"width\", visWidth + margin.left + margin.right)\n      .attr(\"height\", visHeight + margin.top + margin.bottom);\n      \n  /* svg.append(\"rect\")\n    .attr(\"width\", \"100%\")\n    .attr(\"height\", \"100%\")\n    .attr(\"fill\", \"#ffffff\"); */\n\n  // Creating a main group to add things to visualize\n  const g = svg.append(\"g\")\n      .attr(\"transform\", `translate(${margin.left}, ${margin.top})`);\n\n  // Attach axes to the main group\n  g.append(\"g\").call(xAxis, x, \"Average strike-rate in innings →\");\n  g.append(\"g\").call(yAxis, y, \"Average no. of balls faced in innings →\");\n  // Change axes tick label fontsize\n  g.selectAll(\".tick text\")\n    .attr(\"font-size\", 15)\n    .attr(\"font-family\", \"roboto\")\n\n  // Drawing grid lines\n  const grid = g.append('g');\n  \n  grid.append('rect')\n    .attr('width', visWidth)\n    .attr('height', visHeight)\n    .attr('fill', 'white');\n\n  let yLines = grid.append('g')\n    .selectAll('line');\n\n  let xLines = grid.append('g')\n    .selectAll('line');\n\n  function drawGridLines(x, y) {\n    yLines = yLines.data(y.ticks())\n      .join('line')\n        .attr('stroke', '#d3d3d3')\n        .attr('x1', 0)\n        .attr('x2', visWidth)\n        .attr('y1', d => 0.5 + y(d))\n        .attr('y2', d => 0.5 + y(d));\n\n    xLines = xLines.data(x.ticks())\n      .join('line')\n        .attr('stroke', '#d3d3d3')\n        .attr('x1', d => 0.5 + x(d))\n        .attr('x2', d => 0.5 + x(d))\n        .attr('y1', d => 0)\n        .attr('y2', d => visHeight);\n  }\n\n  // Allows to re-draw grid lines whenever necessary: like zooming in or updating the domains of the x and y axes\n  drawGridLines(x, y);\n\n  // Setting up a clipPath to hide data points outside of the visualization area \n  g.append('clipPath')\n      .attr('id', 'border')\n    .append('rect')\n      .attr('width', visWidth)\n      .attr('height', visHeight);\n\n  g.append('rect')\n      .attr('width', visWidth)\n      .attr('height', visHeight)\n      .attr(\"stroke\", \"#000000\")\n      .style(\"stroke-width\", 1)\n      .attr('fill', 'none');\n\n  // Setting up a group containing the base scatter points\n  const baseCirclesGroup = g.append('g')\n      .attr('clip-path', 'url(#border)');\n\n  // Setting up a group containing the hover graphic elements\n  const hoverElementsGroup = g.append('g')\n      .attr('clip-path', 'url(#border)');\n\n  // Creating a tooltip that is hidden by default\n  const tooltip = g.append(\"g\")\n      .attr(\"id\", \"tp\")\n      .attr(\"visibility\", \"hidden\");\n\n  // Creating the x-axis\n  const xAxisSide = (g, scale) =>\n    g.attr(\"transform\", `translate(0, 100)`)\n        // add axis\n        .call(d3.axisBottom(scale).ticks(10));\n        // .call(g => g.select(\".domain\").remove());\n\n  // Creating the y-axis\n  const yAxisSide = (g, scale) => \n    // add axis\n    g.call(d3.axisLeft(scale).ticks(10));\n    //.call(g => g.select(\".domain\").remove());\n\n  const sideAxisX = margin.left + visWidth + 30\n  const sideAxisY = margin.top + 120\n\n  var sideAxisGroupTop = svg.append(\"g\")\n      .attr(\"class\", \"side_axis\")\n      .attr(\"transform\", `translate(${sideAxisX}, ${sideAxisY})`);\n\n  sideAxisGroupTop.append('rect')\n      .attr('width', 100)\n      .attr('height', 100)\n      .attr(\"stroke\", \"#000000\")\n      .style(\"stroke-width\", 1)\n      .attr('fill', 'none')\n      .attr(\"visibility\", \"hidden\");\n\n  const sideAxisYAdded = sideAxisY + 120\n\n  var sideAxisGroupBottom = svg.append(\"g\")\n      .attr(\"class\", \"side_axis\")\n      .attr(\"transform\", `translate(${sideAxisX}, ${sideAxisYAdded})`);\n\n  sideAxisGroupBottom.append('rect')\n      .attr('width', 100)\n      .attr('height', 100)\n      .attr(\"stroke\", \"#000000\")\n      .style(\"stroke-width\", 1)\n      .attr('fill', 'none')\n      .attr(\"visibility\", \"hidden\");\n\n  var all_SR = []\n  var all_balls = []\n  d3.range(data.length).forEach(function(xx, i) {\n    all_SR = d3.merge([all_SR, data[xx].SR])\n    all_balls = d3.merge([all_balls, data[xx].Balls]) \n  });\n  const minSR = d3.min(all_SR)\n  const maxSR = d3.quantile(all_SR, 0.99)\n  const minBalls = d3.min(all_balls)\n  const maxBalls = d3.max(all_balls)\n\n  const xSide = d3.scaleLinear()\n          .domain([minSR, maxSR])\n          .range([0, 100]);\n\n  // Linear y-scale, domain and range set\n  const ySide = d3.scaleLinear()\n        .domain([minBalls, maxBalls])\n        .range([100, 0]);\n\n  // Setting up a group containing the base scatter points\n  const sideCirclesGroupTop = sideAxisGroupTop.append('g');\n  const sideCirclesGroupBottom = sideAxisGroupBottom.append('g');\n\n  // Setting up some values before starting to plot\n  const baseRadius = 5\n  const BattingPositions = [\"Openers\", \"Middle-order\", \"Finishers\", \"Tail-enders\"]\n  const battingPositionColor = d3.scaleOrdinal()\n    .domain(BattingPositions)\n    .range(d3.schemeCategory10);\n\n  // Drawing the base scatter points by attaching it to the data\n  function drawPoints(in_data) {\n\n    const meanBalls = d3.mean(in_data, function(d) {return d.AvBalls});\n    var xMin = x.domain()[0];\n    var xMax = x.domain()[1];\n\n    const meanSR = d3.mean(in_data, function(d) {return d.AvSR});\n    var yMin = y.domain()[0];\n    var yMax = y.domain()[1];\n\n    // Select all circles in the group and append a data point to each\n    const baseCircles = baseCirclesGroup.selectAll('circle')\n      .data(in_data)\n      .join('circle')\n        // draw points\n        .attr(\"cx\", d => x(d.AvSR))\n        .attr(\"cy\", d => y(d.AvBalls))\n        .attr(\"fill\", d =>  battingPositionColor(d.BattingPosition))\n        .attr(\"r\", baseRadius)\n        .attr('stroke', \"none\")\n        .attr('stroke-width', 1)\n        .attr('opacity', 0.5)\n        // Interactive functions:\n        .on(\"mouseenter\", mouseEnter)\n        .on(\"mouseleave\", mouseLeave)\n        .on(\"click\", clicked);\n\n    // Adding a horizontal line\n    g.append('line')\n      .attr(\"id\", \"mean_balls\")\n      .attr(\"x1\", x(xMin))\n      .attr(\"y1\", y(meanBalls))\n      .attr(\"x2\", x(xMax))\n      .attr(\"y2\", y(meanBalls))\n      .style(\"stroke\", \"red\");\n\n    // Adding a vertical line\n    g.append('line')\n      .attr(\"id\", \"mean_sr\")\n      .attr(\"x1\", x(meanSR))\n      .attr(\"y1\", y(yMin))\n      .attr(\"x2\", x(meanSR))\n      .attr(\"y2\", y(yMax))\n      .style(\"stroke\", \"red\");\n\n  }\n\n  // Function to draw equi-run lines, given an array of runs\n  var line = d3.line()\n  var SR_linspace\n  function drawEquiRunLines(eqrs) {\n    SR_linspace = d3.ticks(x.domain()[0], x.domain()[1], 1000);    \n    var balls_eqr\n    var eqr_points\n    // Equi-run lines\n    for (let j = 0; j < eqrs.length; j++) { \n      balls_eqr = new Array();\n      eqr_points = new Array();\n      for (let i = 0; i < SR_linspace.length; i++) { \n        balls_eqr.push(eqrs[j]*100/SR_linspace[i]);\n        if (balls_eqr[i]>=y.domain()[0] && balls_eqr[i]<=y.domain()[1]) {\n          eqr_points.push([x(SR_linspace[i]), y(balls_eqr[i])]);\n        }\n        \n      }\n\n      g.append('path')\n        .attr(\"class\", \"main_eqr_lines\")\n        .attr('d', line(eqr_points))\n        .attr('stroke', '#a3a3a3')\n        .style(\"stroke-dasharray\", (\"10,3\"))\n        .attr('fill', 'none');\n\n      // Labeling the equi-run lines on the right-side of the plot\n      g.append(\"text\")\n        .attr(\"class\", \"main_eqr_run_labels\")\n        .attr(\"dx\", \"0.5em\")\n        .attr(\"font-family\", \"roboto\")\n        .attr(\"font-size\", 15)\n        .attr(\"fill\", textColor)\n        .attr(\"y\", y(eqrs[j]*100/(x.domain()[1]))) // offset it from the edge of the rectangle\n        .attr(\"x\", x(x.domain()[1])) // offset it from the edge of the rectangle\n        .attr(\"dominant-baseline\", \"middle\")\n        .text(d3.format(\".0f\")(eqrs[j])+\" runs\");\n    }\n  }\n\n  // Calling function to draw equi-run lines\n  drawEquiRunLines([10, 20, 30, 40, 50])\n\n  // Calling function to draw the base scatter plot on the given axes\n  drawPoints(data)\n\n  function dragstarted() {\n    d3.select(this).attr(\"stroke\", \"black\");\n  }\n\n  function dragged(event, d) {\n    d3.select(this).raise().attr(\"cx\", d.x = event.x).attr(\"cy\", d.y = event.y);\n  }\n\n  function dragended() {\n    d3.select(this).attr(\"stroke\", null);\n  }\n\n  var drag = d3.drag()\n      .on(\"start\", dragstarted)\n      .on(\"drag\", dragged)\n      .on(\"end\", dragended);\n\n  // Track which batting-positions are selected\n  const highlighted = new Map(data.map(d => [d, true]));\n\n  // Function to handle mouse enter events\n  function mouseEnter(event, d, i) {\n    \n    // Remove labeling of highlighted labels, and equi-run lines\n    g.selectAll(\".highlighted_labels\").remove()\n    g.selectAll(\".main_eqr_lines\").attr(\"visibility\", \"hidden\");\n    g.selectAll(\".main_eqr_run_labels\").attr(\"visibility\", \"hidden\");\n\n    // y.domain([70,100])\n\n    // Define the arrowhead marker variables\n    const markerBoxWidth = 10;\n    const markerBoxHeight = 10;\n    const refX = markerBoxWidth / 2;\n    const refY = markerBoxHeight / 2;\n    const markerWidth = markerBoxWidth / 2;\n    const markerHeight = markerBoxHeight / 2;\n    const arrowPoints = [[0, 0], [0, 10], [10, 5]];\n\n    // Add the arrowhead marker definition to the svg element\n    svg\n      .append('defs')\n      .append('marker')\n        .attr('id', 'arrow')\n        .attr('viewBox', [0, 0, markerBoxWidth, markerBoxHeight])\n        .attr('refX', refX)\n        .attr('refY', refY)\n        .attr('markerWidth', markerBoxWidth)\n        .attr('markerHeight', markerBoxHeight)\n        .attr('orient', 'auto-start-reverse')\n      .append('path')\n        .attr('d', d3.line()(arrowPoints))\n        .attr('stroke', 'black');\n\n    // Change opacity of all scatter points on hover\n    baseCirclesGroup.selectAll('circle')\n      .attr(\"stroke\", \"none\")\n      .attr(\"opacity\", 0.75)\n      .attr(\"fill\", \"#d3d3d3\");\n\n    var eqrs = [d.AvBallsLoss*d.AvSRLoss/100, d.AvBalls*d.AvSR/100, d.AvBallsWin*d.AvSRWin/100]\n    var loss_runs_positions = [\"hanging\", \"middle\", \"bottom\"]\n    var balls_eqr\n    var eqr_points\n    // Equi-run lines\n    for (let j = 0; j < eqrs.length; j++) { \n      balls_eqr = new Array();\n      eqr_points = new Array();\n      for (let i = 0; i < SR_linspace.length; i++) { \n        balls_eqr.push(eqrs[j]*100/SR_linspace[i]);\n        if (balls_eqr[i]>=y.domain()[0] && balls_eqr[i]<=y.domain()[1]) {\n          eqr_points.push([x(SR_linspace[i]), y(balls_eqr[i])]);\n        } \n      }\n      hoverElementsGroup.append('path')\n        .attr(\"class\", \"hover_eqr_lines\")\n        .attr(\"pointer-events\", \"none\")\n        .attr('d', line(eqr_points))\n        .attr('stroke', '#a3a3a3')\n        .style(\"stroke-dasharray\", (\"10,3\"))\n        .attr('fill', 'none');\n\n      if (j>0) {\n        if (Math.round(eqrs[j])==Math.round(eqrs[j-1])) {\n          continue;\n        }\n      }\n\n      g.append(\"text\")\n        .attr(\"class\", \"loss_runs\")\n        .attr(\"dx\", \"0.5em\")\n        .attr(\"font-family\", \"roboto\")\n        .attr(\"font-size\", 15)\n        .attr(\"fill\", greyTextColor)\n        .attr(\"y\", y(eqrs[j]*100/(x.domain()[1]))) // offset it from the edge of the rectangle\n        .attr(\"x\", x(x.domain()[1])-60) // offset it from the edge of the rectangle\n        .attr(\"dominant-baseline\", function(){ \n          if ((eqrs[2]>eqrs[0] && j==0) || (eqrs[2]<eqrs[0] && j==2)) {\n            return \"hanging\"\n          }\n          if ((eqrs[2]>eqrs[0] && j==2) || (eqrs[2]<eqrs[0] && j==0)) {\n            return \"bottom\"\n          }\n          if (j==1) {\n            return \"middle\"\n          }\n        })\n        .text(d3.format(\".0f\")(eqrs[j])+\" runs\");\n    }\n\n    hoverElementsGroup.append(\"circle\")\n        .attr(\"id\", \"win_sr_circle\")\n        .attr(\"pointer-events\", \"none\")\n        .attr(\"cx\", x(d.AvSRWin))\n        .attr(\"cy\", y(d.AvBallsWin))\n        .attr(\"fill\", \"none\")\n        .attr(\"r\", 8)\n        .attr('stroke', \"#000000\")\n        .attr('stroke-width', 1)\n        .attr('opacity', 1);\n\n    hoverElementsGroup.append('line')\n      .style('stroke', 'black')\n      .attr(\"id\", \"loss_win\")\n      .attr(\"pointer-events\", \"none\")\n      .attr('marker-end', 'url(#arrow)')\n      .attr(\"x1\", x(d.AvSRLoss))\n      .attr(\"y1\", y(d.AvBallsLoss))\n      .attr(\"x2\", x(d.AvSRWin))\n      .attr(\"y2\", y(d.AvBallsWin));\n\n    hoverElementsGroup.append(\"circle\")\n        .attr(\"id\", \"loss_sr_circle\")\n        .attr(\"pointer-events\", \"none\")\n        .attr(\"cx\", x(d.AvSRLoss))\n        .attr(\"cy\", y(d.AvBallsLoss))\n        .attr(\"fill\", \"#000000\")\n        .attr(\"r\", 5)\n        .attr('stroke', \"#ffffff\")\n        .attr('stroke-width', 1)\n        .attr('opacity', 1);\n\n    hoverElementsGroup.append(\"text\")\n      .attr(\"id\", \"loss_label\")\n      .attr(\"pointer-events\", \"none\")\n      .attr(\"dy\", \"-1em\")\n      .attr(\"dx\", d.AvSRWin>d.AvSRLoss? \"1em\" : \"-1em\")\n      .attr(\"font-family\", \"roboto\")\n      .attr(\"font-size\", 15)\n      //.attr(\"font-weight\", \"bold\")\n      .attr(\"fill\", greyTextColor)\n      .attr(\"y\", y(d.AvBallsLoss)) // offset it from the edge of the rectangle\n      .attr(\"x\", x(d.AvSRLoss)) // offset it from the edge of the rectangle\n      .attr(\"dominant-baseline\", \"middle\")\n      .attr(\"text-anchor\", d.AvSRWin>d.AvSRLoss? \"end\" : \"start\")\n      .text(\"Loss\");\n\n    hoverElementsGroup.append(\"text\")\n      .attr(\"id\", \"win_label\")\n      .attr(\"pointer-events\", \"none\")\n      .attr(\"dy\", \"-1em\")\n      .attr(\"dx\", d.AvSRWin>d.AvSRLoss? \"1em\" : \"-1em\")\n      .attr(\"font-family\", \"roboto\")\n      .attr(\"font-size\", 15)\n      // .attr(\"font-weight\", \"bold\")\n      .attr(\"fill\", greyTextColor)\n      .attr(\"y\", y(d.AvBallsWin)) // offset it from the edge of the rectangle\n      .attr(\"x\", x(d.AvSRWin)) // offset it from the edge of the rectangle\n      .attr(\"dominant-baseline\", \"middle\")\n      .attr(\"text-anchor\", d.AvSRWin>d.AvSRLoss? \"end\" : \"start\")\n      .text(\"Win\");\n\n    tooltip.select(\"#tp\")\n      .raise();\n\n    hoverElementsGroup.append(\"text\")\n    .attr(\"pointer-events\", \"none\")\n      .attr(\"id\", \"av_label\")\n      .attr(\"dy\", \"-1.2em\")\n      .attr(\"dx\", \"-0.5em\")\n      .attr(\"font-family\", \"roboto\")\n      .attr(\"font-size\", 15)\n      // .attr(\"font-weight\", \"bold\")\n      .attr(\"fill\", greyTextColor)\n      .attr(\"y\", y(d.AvBalls)) // offset it from the edge of the rectangle\n      .attr(\"x\", x(d.AvSR)) // offset it from the edge of the rectangle\n      .attr(\"dominant-baseline\", \"bottom\")\n      .text(\"All\");\n\n    // tooltipText.html(d.Name);\n    tooltip.append(\"text\")\n      .attr(\"dy\", \"0em\")\n      .attr(\"font-family\", \"roboto\")\n      .attr(\"font-size\", 20)\n      .attr(\"font-weight\", \"bold\")\n      .attr(\"fill\", greyTextColor)\n      .attr(\"dominant-baseline\", \"hanging\")\n      .text(d.Name);\n\n    var diff_sr = d.AvSRWin - d.AvSRLoss\n    tooltip.append(\"text\")\n      .attr(\"dy\", \"1.1em\") // you can vary how far apart it shows up\n      .attr(\"font-family\", \"roboto\")\n      .attr(\"font-size\", 18)\n      .attr(\"dominant-baseline\", \"hanging\")\n      .text(\"SR: \"+d3.format(\".1f\")(d.AvSR))\n      .attr(\"fill\", greyTextColor)\n      .append(\"tspan\")\n        .attr(\"font-family\", \"roboto\")\n        .attr(\"font-size\", 15)\n        .attr(\"fill\", greyTextColor)\n        .attr(\"dominant-baseline\", \"hanging\")\n        .text(diff_sr>0? \" +\"+d3.format(\".0f\")(diff_sr): \" \"+d3.format(\".0f\")(diff_sr))\n        .attr(\"fill\", diff_sr>0? \"green\": \"red\");\n\n    var diff_balls = d.AvBallsWin - d.AvBallsLoss\n\n    tooltip.append(\"text\")\n      .attr(\"dy\", \"2.1em\") // you can vary how far apart it shows up\n      .attr(\"font-family\", \"roboto\")\n      .attr(\"font-size\", 18)\n      .attr(\"fill\", greyTextColor)\n      .attr(\"dominant-baseline\", \"hanging\")\n      .text(\"Balls: \"+d3.format(\".0f\")(d.AvBalls))\n      .append(\"tspan\")\n        .attr(\"font-family\", \"roboto\")\n        .attr(\"font-size\", 15)\n        .attr(\"fill\", greyTextColor)\n        .attr(\"dominant-baseline\", \"hanging\")\n        .text(diff_balls>0? \" +\"+d3.format(\".0f\")(diff_balls): \" \"+d3.format(\".0f\")(diff_balls))\n        .attr(\"fill\", diff_balls>0? \"green\": \"red\");\n    \n    d3.select(this)\n        .attr(\"r\", baseRadius * 3)\n        .attr('opacity', 1)\n        .raise()\n        .attr(\"fill\", battingPositionColor(d.BattingPosition));\n\n    const xPos = 0.7*x(x.domain()[1])\n    const yPos = 0.1*y(y.domain()[0])\n    tooltip\n      .attr(\"transform\", `translate(${xPos},${yPos})`)\n      .attr(\"visibility\", \"visible\");\n\n    // Add a side axis group for innings_points\n    // Linear x-scale, domain and range set\n    // xSide.domain(d3.extent(d.SR)).nice();\n    // ySide.domain(d3.extent(d.Balls)).nice();\n\n    // Making side axis group visible\n    sideAxisGroupTop.attr(\"visibility\", \"visible\");\n\n    // Attach axes to the main group\n    sideAxisGroupTop.append(\"g\").call(xAxisSide, xSide);\n    sideAxisGroupTop.append(\"g\").call(yAxisSide, ySide);\n\n    sideAxisGroupTop.selectAll(\".tick line\")\n      .attr(\"visibility\", \"hidden\");\n    \n    sideAxisGroupTop.selectAll(\"text\").remove()\n\n    sideAxisGroupBottom.attr(\"visibility\", \"visible\");\n\n    // Attach axes to the main group\n    sideAxisGroupBottom.append(\"g\").call(xAxisSide, xSide);\n    sideAxisGroupBottom.append(\"g\").call(yAxisSide, ySide);\n\n    sideAxisGroupBottom.selectAll(\".tick line\")\n      .attr(\"visibility\", \"hidden\");\n    \n    sideAxisGroupBottom.selectAll(\"text\").remove()\n\n    sideAxisGroupBottom.append(\"text\")\n      .attr(\"font-family\", \"roboto\")\n      .attr(\"font-size\", 15)\n      .attr(\"fill\", textColor)\n      .attr(\"font-weight\", \"bold\")\n      .attr(\"dy\", -5)\n      .attr(\"dx\", 100)\n      .attr(\"dominant-baseline\", \"hanging\")\n      .attr(\"text-anchor\", \"end\")\n      .text(\"Wins\");\n\n    sideAxisGroupTop.append(\"text\")\n      .attr(\"font-family\", \"roboto\")\n      .attr(\"font-size\", 15)\n      .attr(\"fill\", textColor)\n      .attr(\"font-weight\", \"bold\")\n      .attr(\"dy\", -5)\n      .attr(\"dx\", 100)\n      .attr(\"dominant-baseline\", \"hanging\")\n      .attr(\"text-anchor\", \"end\")\n      .text(\"Losses\");\n\n    sideAxisGroupBottom.append(\"text\")\n      .attr(\"font-family\", \"roboto\")\n      .attr(\"font-size\", 15)\n      .attr(\"fill\", textColor)\n      .attr(\"dy\", 110)\n      .attr(\"dx\", -3)\n      .attr(\"dominant-baseline\", \"hanging\")\n      .text(minSR);\n\n    sideAxisGroupBottom.append(\"text\")\n      .attr(\"font-family\", \"roboto\")\n      .attr(\"font-size\", 15)\n      .attr(\"fill\", textColor)\n      .attr(\"dy\", 110)\n      .attr(\"dx\", 90)\n      .attr(\"dominant-baseline\", \"hanging\")\n      .text(maxSR);\n\n    sideAxisGroupBottom.append(\"text\")\n      .attr(\"font-family\", \"roboto\")\n      .attr(\"font-size\", 15)\n      .attr(\"fill\", textColor)\n      .attr(\"dy\", 0)\n      .attr(\"dx\", -10)\n      .attr(\"dominant-baseline\", \"middle\")\n      .attr(\"text-anchor\", \"end\")\n      .text(maxBalls);\n\n    sideAxisGroupBottom.append(\"text\")\n      .attr(\"font-family\", \"roboto\")\n      .attr(\"font-size\", 15)\n      .attr(\"fill\", textColor)\n      .attr(\"dy\", 100)\n      .attr(\"dx\", -10)\n      .attr(\"dominant-baseline\", \"middle\")\n      .attr(\"text-anchor\", \"end\")\n      .text(minBalls);\n\n    d3.range(d.SR.length).forEach(function(xx, i) {\n      sideCirclesGroupTop.append('circle')\n        .attr(\"class\", \"innings_points\")\n        // .attr('clip-path', 'url(#border)')\n        .attr(\"pointer-events\", \"none\")\n        .attr(\"cx\", xSide(d.SR[xx]))\n        .attr(\"cy\", ySide(d.Balls[xx]))\n        .attr(\"r\", 6)\n        .attr(\"opacity\", 0.5)\n        .style(\"fill\", \"#b3b3b3\")\n        .style(\"stroke\", \"none\");\n\n      sideCirclesGroupBottom.append('circle')\n        .attr(\"class\", \"innings_points\")\n        // .attr('clip-path', 'url(#border)')\n        .attr(\"pointer-events\", \"none\")\n        .attr(\"cx\", xSide(d.SR[xx]))\n        .attr(\"cy\", ySide(d.Balls[xx]))\n        .attr(\"r\", 6)\n        .attr(\"opacity\", 0.5)\n        .style(\"fill\", \"#b3b3b3\")\n        .style(\"stroke\", \"none\");\n\n    });\n\n    d3.range(d.SR.length).forEach(function(xx, i) {\n      if (d.Won[xx]==\"No\") {\n        sideCirclesGroupTop.append('circle')\n          .attr(\"class\", \"innings_points\")\n          // .attr('clip-path', 'url(#border)')\n          .attr(\"pointer-events\", \"none\")\n          .attr(\"cx\", xSide(d.SR[xx]))\n          .attr(\"cy\", ySide(d.Balls[xx]))\n          .attr(\"r\", 2)\n          .style(\"fill\", \"#FF6B6C\")\n          .style(\"stroke\", \"#000000\")\n          .style(\"stroke-width\", 1);\n      }\n\n      if (d.Won[xx]==\"Yes\") {\n        sideCirclesGroupBottom.append('circle')\n          .attr(\"class\", \"innings_points\")\n          // .attr('clip-path', 'url(#border)')\n          .attr(\"pointer-events\", \"none\")\n          .attr(\"cx\", xSide(d.SR[xx]))\n          .attr(\"cy\", ySide(d.Balls[xx]))\n          .attr(\"r\", 2)\n          .style(\"fill\", \"#B4BA39\")\n          .style(\"stroke\", \"#000000\")\n          .style(\"stroke-width\", 1);\n      }\n    });\n  }\n\n  // Function to handle mouse leaving\n  function mouseLeave(event, d) {\n\n    sideAxisGroupTop.attr(\"visibility\", \"hidden\")\n    sideAxisGroupBottom.attr(\"visibility\", \"hidden\")\n    sideCirclesGroupTop.selectAll(\".innings_points\").remove()\n    sideCirclesGroupBottom.selectAll(\".innings_points\").remove()\n    g.select(\"#loss_win\").remove()\n    hoverElementsGroup.select(\"#loss_sr_circle\").remove()\n    hoverElementsGroup.select(\"#win_sr_circle\").remove()\n    hoverElementsGroup.select(\"#loss_label\").remove()\n    hoverElementsGroup.select(\"#win_label\").remove()\n    hoverElementsGroup.select(\"#av_label\").remove()\n    hoverElementsGroup.selectAll(\".hover_eqr_lines\").remove()\n    hoverElementsGroup.selectAll(\".innings_points\").remove()\n    g.selectAll(\".highlighted_labels\").remove()\n    g.selectAll(\".loss_runs\").remove()\n    g.selectAll(\".main_eqr_lines\")\n        .attr(\"visibility\", \"visible\");\n    g.selectAll(\".main_eqr_run_labels\")\n        .attr(\"visibility\", \"visible\");\n\n    baseCirclesGroup.selectAll('circle')\n      .attr(\"stroke\", d => highlighted.get(d)? \"none\" : \"black\")\n      .attr(\"opacity\", d => highlighted.get(d)? 0.5 : 1)\n      .attr(\"fill\", d =>  battingPositionColor(d.BattingPosition));\n\n    baseCirclesGroup.selectAll('circle')  //here's how you get all the nodes\n      .each(function(d) {\n        if (!highlighted.get(d)) {\n          g.append('text')\n          .attr('class', 'highlighted_labels')\n          .style('fill', greyTextColor)\n          .attr(\"font-family\", \"roboto\")\n          .attr(\"font-size\", 15)\n          .attr(\"font-weight\", \"bold\")\n          .attr(\"dominant-baseline\", \"alphabetical\")\n          .attr(\"text-anchor\", \"start\")\n          .attr(\"x\", x(d.AvSR)+baseRadius+1)\n          .attr(\"y\", y(d.AvBalls)-baseRadius-1)\n          .text(d.Name);\n        }\n      });\n\n    // reset the size of the circle\n    d3.select(this)\n      .attr(\"r\", d => highlighted.get(d)? baseRadius : baseRadius * 1.5)\n      .attr(\"stroke\", d => highlighted.get(d)? \"none\" : \"black\")\n      .attr(\"opacity\", d => highlighted.get(d)? 0.5 : 1);\n    \n    tooltip.selectAll(\"text\").remove()\n    \n    // make the tooltip invisible\n    tooltip\n        .attr(\"visibility\", \"hidden\");\n  }\n\n  // Function to handle mouse clicks\n  function clicked(event, d) {\n\n    const isHighlighted = highlighted.get(d);\n\n    d3.select(this)\n        .raise()\n        .attr(\"stroke\", d => isHighlighted? \"black\" : \"none\")\n        .attr(\"opacity\", d => isHighlighted? 1 : 0.75);\n\n    d3.select(this)\n        .append(\"text\")\n        .attr(\"font-family\", \"roboto\")\n        .attr(\"font-size\", 22)\n        .attr(\"font-weight\", \"bold\")\n        .attr(\"dominant-baseline\", \"hanging\")\n        .text(d.Wins);\n        \n    highlighted.set(d, !isHighlighted);\n    \n  }\n\n  // Draw legend\n  const xShift = visWidth + margin.left\n  const yShift = margin.top - 10\n  const legend = svg.append('g')\n      .attr('transform', `translate(${xShift}, ${yShift})`);\n  \n  legend.append(\"text\")\n    .text(\"Select type:\")\n    .attr('font-size', 15)\n    .attr('dominant-baseline', 'middle')\n    .attr(\"fill\", textColor)\n    .attr('text-anchor', 'start')\n    .attr('font-family', 'roboto')\n    .attr('x', 10)\n    .attr('y', 5);\n\n  const rows = legend.selectAll('g')\n    .data(BattingPositions)\n    .join('g')\n      .attr('transform', (d, i) => `translate(20, ${(i+1) * 20})`);\n  \n  rows.append('rect')\n      .attr('width', 15)\n      .attr('height', 15)\n      .attr('stroke-width', 2)\n      .attr('stroke', d => battingPositionColor(d))\n      .attr('fill', d => battingPositionColor(d))\n      .on('click', onclick);\n  \n  rows.append('text')\n      .attr('font-size', 15)\n      .attr('x', 20)\n      .attr('y', 7.5)\n      .attr(\"fill\", textColor)\n      .attr('font-family', 'roboto')\n      .attr('dominant-baseline', 'middle')\n      .text(d => d)\n\n  // Track which batting-positions are selected\n  const selected = new Map(BattingPositions.map(d => [d, true]));\n\n  function onclick(event, d) {\n    const isSelected = selected.get(d);\n    \n    // select the square and toggle it\n    const square = d3.select(this);\n    square.attr('fill', d => isSelected ? 'white' : battingPositionColor(d));\n    selected.set(d, !isSelected);\n    \n    // redraw the points\n    svg.select(\"#mean_balls\").remove()\n    svg.select(\"#mean_sr\").remove()\n    g.selectAll(\".highlighted_labels\").remove()\n    drawPoints(data.filter(d => selected.get(d.BattingPosition)));\n\n    baseCirclesGroup.selectAll('circle')  //here's how you get all the nodes\n      .each(function(d) {\n        if (!highlighted.get(d)) {\n          g.append('text')\n            .attr('class', 'highlighted_labels')\n            .style('fill', greyTextColor)\n            .attr(\"font-family\", \"roboto\")\n            .attr(\"font-size\", 15)\n            .attr(\"font-weight\", \"bold\")\n            .attr(\"dominant-baseline\", \"alphabetical\")\n            .attr(\"text-anchor\", \"start\")\n            .attr(\"x\", x(d.AvSR)+baseRadius+1)\n            .attr(\"y\", y(d.AvBalls)-baseRadius-1)\n            .text(d.Name);\n            //.call(drag);\n            //.call(d3.drag().on(\"start\", dragstarted))\n            //.call(d3.drag().on(\"drag\", dragged))\n            //.call(d3.drag().on(\"end\", dragended));\n        }\n      });\n\n    baseCirclesGroup.selectAll('circle')\n      .attr(\"stroke\", d => highlighted.get(d)? \"none\" : \"black\")\n      .attr(\"r\", d => highlighted.get(d)? baseRadius : baseRadius * 1.5)\n      .attr(\"opacity\", d => highlighted.get(d)? 0.25 : 1)\n      .attr(\"fill\", d =>  battingPositionColor(d.BattingPosition));\n\n  }\n\n  return svg.node();\n}\n\n\n\n\n\n\n\nBelow is an interactive plot of how different batters did (strike-rates and balls faced) in their IPL innings when their team won and lost, compared to the overall distribution of how batters do in general.\n\n// [\"V Kohli\", \"AB de Villiers\", \"MS Dhoni\"]\nviewof chosen_batter = Inputs.select(all_batter_names, {value: 'V Kohli', label: 'Choose batter'})\n\n\n\n\n\n\n\n\n{\n  // Setting up the overall chart dimensions\n  const margin = ({top: 5, right: 65, bottom: 50, left: 60})\n  const visWidth = 600\n  const visHeight = 400\n\n  var textColor = d3.select(\"p\").style(\"color\")\n  const greyTextColor = \"#212529\"\n\n  var all_SR = []\n  var all_balls = []\n  d3.range(data.length).forEach(function(xx, i) {\n    all_SR = d3.merge([all_SR, data[xx].SR])\n    all_balls = d3.merge([all_balls, data[xx].Balls]) \n  });\n  const minSR = d3.min(all_SR)\n  const maxSR = d3.quantile(all_SR, 0.99)\n  const minBalls = d3.min(all_balls)\n  const maxBalls = d3.max(all_balls)\n  const dx = 10\n  const dy = 4\n\n  const xScale = d3.scaleLinear()\n          .domain([minSR-dx/2, maxSR+dx/2])\n          .range([0, visWidth]);\n\n  // Linear y-scale, domain and range set\n  const yScale = d3.scaleLinear()\n        .domain([minBalls-dy/2, maxBalls+dy/2])\n        .range([visHeight, 0]);\n\n  // Creating the x-axis and the y-axis, and their labels\n  \n  // Creating the x-axis\n  const xAxis = (g, scale, label) =>\n    g.attr(\"transform\", `translate(0, ${visHeight})`)\n        // add axis\n        .call(d3.axisBottom(scale))\n      // add label\n      .append(\"text\")\n        .attr(\"x\", visWidth / 2)\n        .attr(\"y\", margin.bottom-5)\n        .attr(\"fill\", textColor)\n        .attr(\"text-anchor\", \"middle\")\n        .attr(\"font-family\", \"roboto\")\n        .attr(\"font-size\", \"18\")\n        .text(label)\n\n  // Creating the y-axis\n  const yAxis = (g, scale, label) => \n    // add axis\n    g.call(d3.axisLeft(scale))\n      // add label\n      .append(\"text\")\n        .attr(\"transform\", \"rotate(-90)\")\n        .attr(\"x\", -visHeight/2)\n        .attr(\"y\", -margin.left+20)\n        .attr(\"fill\", textColor)\n        .attr(\"text-anchor\", \"middle\")\n        .attr(\"font-family\", \"roboto\")\n        .attr(\"font-size\", \"18\")\n        .text(label)\n\n  // Creating the svg inside the visualization margins of the chart: this is where things can be drawn\n  const svg = d3.create(\"svg\")\n      .attr(\"width\", visWidth + margin.left + margin.right)\n      .attr(\"height\", visHeight + margin.top + margin.bottom);\n\n  // Creating a main group to add things to visualize\n  const g = svg.append(\"g\")\n      .attr(\"transform\", `translate(${margin.left}, ${margin.top})`);\n\n  // Attach axes to the main group\n  g.append(\"g\").call(xAxis, xScale, \"Strike-rate in each innings →\");\n  g.append(\"g\").call(yAxis, yScale, \"No. of balls faced in each innings →\");\n\n  // Change axes tick label fontsize\n  g.selectAll(\".tick text\")\n    .attr(\"font-size\", 15)\n    .attr(\"font-family\", \"roboto\")\n\n  g.append('rect')\n      .attr('width', visWidth)\n      .attr('height', visHeight)\n      .attr(\"stroke\", \"#000000\")\n      .style(\"stroke-width\", 1)\n      .attr('fill', 'none');\n\n  // Drawing grid lines\n  const grid = g.append('g');\n\n  grid.append('rect')\n    .attr('width', visWidth)\n    .attr('height', visHeight)\n    .attr('fill', 'white');\n\n  let yLines = grid.append('g')\n    .selectAll('line');\n\n  let xLines = grid.append('g')\n    .selectAll('line');\n\n  function drawGridLines(x, y) {\n    yLines = yLines.data(y.ticks())\n      .join('line')\n        .attr('stroke', '#d3d3d3')\n        .attr('x1', 0)\n        .attr('x2', visWidth)\n        .attr('y1', d => 0.5 + y(d))\n        .attr('y2', d => 0.5 + y(d));\n\n    xLines = xLines.data(x.ticks())\n      .join('line')\n        .attr('stroke', '#d3d3d3')\n        .attr('x1', d => 0.5 + x(d))\n        .attr('x2', d => 0.5 + x(d))\n        .attr('y1', d => 0)\n        .attr('y2', d => visHeight);\n  }\n\n  // Allows to re-draw grid lines whenever necessary: like zooming in or updating the domains of the x and y axes\n  // drawGridLines(xScale, yScale);\n\n  // Setting up a clipPath to hide data points outside of the visualization area \n  g.append('clipPath')\n      .attr('id', 'border2')\n    .append('rect')\n      .attr('width', visWidth)\n      .attr('height', visHeight);\n\n  // Setting up a group containing the base scatter points\n  const baseCirclesGroup = g.append('g')\n      .attr('clip-path', 'url(#border2)');\n\n  // Creating a tooltip that is hidden by default\n  const tooltip = svg.append(\"g\")\n      .attr(\"id\", \"tp\")\n      .attr(\"visibility\", \"hidden\");\n\n  // Setting up some values before starting to plot\n  const baseRadius = 8\n\n  function rectBinner(xData, yData, dx, dy) {\n    const xMin = d3.min(xData)\n    const xMax = d3.max(xData)\n    const yMin = d3.min(yData)\n    const yMax = d3.max(yData)\n    const nx = Math.round((xMax-xMin)/dx) + 1\n    const ny = Math.round((yMax-yMin)/dy) + 1\n    var RectCount = []\n    let x = xMin - dx/2\n    let y = yMin - dy/2\n    d3.range(nx*ny*2).forEach( function(xx, i) {\n      if (y>yMax) {\n        return RectCount\n      }\n      if (x>xMax) {\n        x = xMin - dx/2;\n        y = y + dy;\n      } else {\n        // Do something\n        var count = 0\n        d3.range(xData.length).forEach(function(xx, i) {\n          if (xData[xx]>=x && xData[xx]<(x+dx) && yData[xx]>=y && yData[xx]<(y+dy)){\n            count = count + 1\n          }\n        });\n        if (count>0) {\n          RectCount.push({\"x\": x, \"y\": y, \"c\": Math.log10(count)});\n        }\n        x = x + dx;\n      }\n    });\n    return RectCount\n  }\n\n  var inningsColor = []\n  d3.range(data.length).forEach(function(xx, i) {\n      if (data[xx].Name==chosen_batter) {\n        d3.range(data.length).forEach(function(yy, j) {\n          if (data[xx].Won[yy]==\"Yes\"){\n            inningsColor.push(\"#B4BA39\");\n          } else {\n            inningsColor.push(\"#FF6B6C\");\n          }\n        });\n      }\n  });\n\n  function drawPoints(in_data) {\n    // Select all circles in the group and append a data point to each\n\n    var rectCounts = rectBinner(in_data[0], in_data[1], dx, dy)\n    const color = d3.scaleSequential(d3.interpolateGreys)\n        .domain([0, d3.max(rectCounts, d => d.c) / 2]);\n\n    baseCirclesGroup.append(\"g\")\n      .attr(\"stroke\", \"#000\")\n      .attr(\"stroke-opacity\", 0.2)\n    .selectAll(\"rect\")\n    .data(rectCounts)\n    .join(\"rect\")\n      // .attr(\"transform\", d => `translate(${d.x},${d.y})`)\n      .attr('x', d => xScale(d.x))\n      .attr('y', d => yScale(d.y))\n      .attr('width', xScale(dx)-xScale(0))\n      .attr('height', yScale(0)-yScale(dy))\n      .attr(\"fill\", d => color(d.c))\n      .attr(\"opacity\", 0.75);\n\n    d3.range(data.length).forEach(function(xx, i) {\n      if (data[xx].Name==chosen_batter) {\n        d3.range(data.length).forEach(function(yy, j) {\n          baseCirclesGroup\n            .append('circle')\n            .attr(\"class\", \"innings_circles\")\n            .attr(\"cx\", xScale(data[xx].SR[yy]+(d3.randomUniform(1)()-1)/2))\n            .attr(\"cy\", yScale(data[xx].Balls[yy]+(d3.randomUniform(1)()-1)/2))\n            .attr(\"fill\", data[xx].Won[yy]==\"Yes\"? \"#B4BA39\": \"#FF6B6C\")\n            .attr(\"r\", 4)\n            .attr('stroke', \"#ffffff\")\n            .attr('stroke-width', 1)\n            .attr('opacity', 0.75)\n            // Interactive functions:\n            .on(\"mouseenter\", function(e){\n              mouseEnter(e, yy)\n            })\n            .on(\"mouseleave\", function(e){\n              mouseLeave(e, yy)\n            });\n            // .on(\"click\", clicked);\n        });\n         \n      }\n    });\n  }\n\n  // Function to draw equi-run lines, given an array of runs\n  var line = d3.line()\n  var SR_linspace\n  function drawEquiRunLines(eqrs) {\n    SR_linspace = d3.ticks(xScale.domain()[0], xScale.domain()[1], 1000);    \n    var balls_eqr\n    var eqr_points\n    // Equi-run lines\n    for (let j = 0; j < eqrs.length; j++) { \n      balls_eqr = new Array();\n      eqr_points = new Array();\n      for (let i = 0; i < SR_linspace.length; i++) { \n        balls_eqr.push(eqrs[j]*100/SR_linspace[i]);\n        if (balls_eqr[i]>=yScale.domain()[0] && balls_eqr[i]<=yScale.domain()[1]) {\n          eqr_points.push([xScale(SR_linspace[i]), yScale(balls_eqr[i])]);\n        }\n        \n      }\n\n      g.append('path')\n        .attr(\"class\", \"main_eqr_lines\")\n        .attr('d', line(eqr_points))\n        .attr('stroke', '#a3a3a3')\n        .style(\"stroke-dasharray\", (\"10,3\"))\n        .attr('fill', 'none');\n\n      // Labeling the equi-run lines on the right-side of the plot\n      g.append(\"text\")\n        .attr(\"class\", \"main_eqr_run_labels\")\n        .attr(\"dx\", \"0.5em\")\n        .attr(\"font-family\", \"roboto\")\n        .attr(\"font-size\", 15)\n        .attr(\"fill\", textColor)\n        .attr(\"y\", yScale(eqrs[j]*100/(xScale.domain()[1]))) // offset it from the edge of the rectangle\n        .attr(\"x\", xScale(xScale.domain()[1])) // offset it from the edge of the rectangle\n        .attr(\"dominant-baseline\", \"middle\")\n        .text(d3.format(\".0f\")(eqrs[j])+\" runs\");\n    }\n  }\n\n  // Calling function to draw equi-run lines\n  drawEquiRunLines([10, 20, 30, 40, 50, 60, 75, 100])\n\n  drawPoints([all_SR, all_balls], chosen_batter);\n\n  function getFirstLetters(str) {\n    const firstLetters = str\n      .split(' ')\n      .map(word => word[0])\n      .join('');\n\n    return firstLetters;\n  }\n\n  function mouseEnter(event, yy) {\n    \n    // Change opacity of all scatter points on hover\n    baseCirclesGroup.selectAll('circle')\n      .attr(\"stroke\", \"none\")\n      .attr(\"opacity\", 0.75)\n      .attr(\"fill\", \"#d3d3d3\");\n\n    tooltip.select(\"#tp\")\n      .raise();\n\n    const xPos = 0.8*xScale(xScale.domain()[1])\n    const yPos = 0.1*yScale(yScale.domain()[0])\n    tooltip\n      .attr(\"transform\", `translate(${xPos},${yPos})`)\n      .attr(\"visibility\", \"visible\");\n\n    d3.range(data.length).forEach(function(xx, i) {\n      if (data[xx].Name==chosen_batter) {\n        tooltip.append(\"text\")\n          .attr(\"dy\", \"0em\")\n          .attr(\"font-family\", \"roboto\")\n          .attr(\"font-size\", 20)\n          .attr(\"fill\", greyTextColor)\n          .attr(\"font-weight\", \"bold\")\n          .attr(\"dominant-baseline\", \"hanging\")\n          .text(data[xx].Name);\n\n        tooltip.append(\"text\")\n          .attr(\"dy\", \"1.1em\") // you can vary how far apart it shows up\n          .attr(\"font-family\", \"roboto\")\n          .attr(\"font-size\", 18)\n          .attr(\"fill\", greyTextColor)\n          .attr(\"dominant-baseline\", \"hanging\")\n          .text(data[xx].Runs[yy]+\" (\"+data[xx].Balls[yy]+\")\");\n\n        tooltip.append(\"text\")\n          .attr(\"dy\", \"2.6em\") // you can vary how far apart it shows up\n          .attr(\"font-family\", \"roboto\")\n          .attr(\"font-size\", 15)\n          .attr(\"fill\", greyTextColor)\n          .attr(\"dominant-baseline\", \"hanging\")\n          .text(getFirstLetters(data[xx].Team[yy])+\" vs \"+getFirstLetters(data[xx].OppTeam[yy])+\" (\"+data[xx].TeamType[yy]+\")\");\n        \n        tooltip.append(\"text\")\n          .attr(\"dy\", \"3.7em\") // you can vary how far apart it shows up\n          .attr(\"font-family\", \"roboto\")\n          .attr(\"font-size\", 15)\n          .attr(\"fill\", greyTextColor)\n          .attr(\"dominant-baseline\", \"hanging\")\n          .text(data[xx].Date[yy]);\n\n        event.target.r.baseVal.value = 12\n        event.target.style.opacity = 1\n        event.target.style.fill = data[xx].Won[yy]==\"Yes\"? \"#B4BA39\": \"#FF6B6C\"\n         event.target.style.stroke = \"#ffffff\"\n      }\n    });\n  }\n\n  function mouseLeave(event) {\n    tooltip.attr(\"visibility\", \"hidden\");\n    tooltip.selectAll(\"text\").remove()\n    baseCirclesGroup.selectAll(\".innings_circles\").remove()\n    d3.range(data.length).forEach(function(xx, i) {\n      if (data[xx].Name==chosen_batter) {\n        d3.range(data.length).forEach(function(yy, j) {\n          baseCirclesGroup\n            .append('circle')\n            .attr(\"class\", \"innings_circles\")\n            .attr(\"cx\", xScale(data[xx].SR[yy]+(d3.randomUniform(1)()-1)/2))\n            .attr(\"cy\", yScale(data[xx].Balls[yy]+(d3.randomUniform(1)()-1)/2))\n            .attr(\"fill\", data[xx].Won[yy]==\"Yes\"? \"#B4BA39\": \"#FF6B6C\")\n            .attr(\"r\", 4)\n            .attr('stroke', \"#ffffff\")\n            .attr('stroke-width', 1)\n            .attr('opacity', 0.75)\n            // Interactive functions:\n            .on(\"mouseenter\", function(e){\n              mouseEnter(e, yy)\n            })\n            .on(\"mouseleave\", function(e){\n              mouseLeave(e, yy)\n            });\n        });\n         \n      }\n    });\n\n  }\n  return svg.node();\n}"
  },
  {
    "objectID": "projects/cricket_analytics/win_probability_ipl/win_probability_ipl.html",
    "href": "projects/cricket_analytics/win_probability_ipl/win_probability_ipl.html",
    "title": "How have different IPL players contributed to their team’s winning chances?",
    "section": "",
    "text": "ESPNCricinfo has published win probabilities after every ball bowled in each match of the IPL. This information, together with ball-by-ball information on the batter identity, bowler identity, ball events (which over, which ball, runs scored, wicket taken?) and other relevant information, opens up the possibility of assessing each batter’s and each bowler’s contribution to their team’s winning chances in each IPL match. This project starts to dig in that direction.\nSome questions we’ll probe here are:\n\nWhich batters and bowlers (players) have contributed the most to their team’s winning chances over the years?\nWhich players have contributed significantly higher in wins compared to losses? Which players have contributed equally in all matches independent of the outome?\nHow does the batters’ and bowlers’ contribution change with match scenarios - over number, ball number, wickets fell, bowler type, setting vs chasing, wagon zone?\nWhat does a typical innings look like for each batter?"
  },
  {
    "objectID": "projects/cricket_analytics/win_probability_ipl/win_probability_ipl.html#batters-contribution-per-match",
    "href": "projects/cricket_analytics/win_probability_ipl/win_probability_ipl.html#batters-contribution-per-match",
    "title": "How have different IPL players contributed to their team’s winning chances?",
    "section": "Batters’ contribution per match",
    "text": "Batters’ contribution per match"
  },
  {
    "objectID": "projects/cricket_analytics/win_probability_ipl/win_probability_ipl.html#batters-table",
    "href": "projects/cricket_analytics/win_probability_ipl/win_probability_ipl.html#batters-table",
    "title": "How have different IPL players contributed to their team’s winning chances?",
    "section": "Batters table",
    "text": "Batters table"
  },
  {
    "objectID": "projects/cricket_analytics/win_probability_ipl/win_probability_ipl.html#bowlers-contribution-per-match",
    "href": "projects/cricket_analytics/win_probability_ipl/win_probability_ipl.html#bowlers-contribution-per-match",
    "title": "How have different IPL players contributed to their team’s winning chances?",
    "section": "Bowlers’ contribution per match",
    "text": "Bowlers’ contribution per match"
  },
  {
    "objectID": "projects/cricket_analytics/win_probability_ipl/win_probability_ipl.html#bowlers-table",
    "href": "projects/cricket_analytics/win_probability_ipl/win_probability_ipl.html#bowlers-table",
    "title": "How have different IPL players contributed to their team’s winning chances?",
    "section": "Bowlers table",
    "text": "Bowlers table"
  },
  {
    "objectID": "projects/cricket_analytics/win_probability_ipl/win_probability_ipl.html#virat-kohli",
    "href": "projects/cricket_analytics/win_probability_ipl/win_probability_ipl.html#virat-kohli",
    "title": "How have different IPL players contributed to their team’s winning chances?",
    "section": "Virat Kohli",
    "text": "Virat Kohli\nI will put up profiles of individual batters and bowlers here. As a start, here’s Virat Kohli.\nCumulative win probability vs balls faced in innings \nCumulative win probability vs balls faced in innings grouped by setting and chasing \nAverage win probability contribution per bowler type \nAverage win probability contribution per over number \nAverage win probability contribution per ball in the over"
  },
  {
    "objectID": "projects.html",
    "href": "projects.html",
    "title": "Projects",
    "section": "",
    "text": "A closer look into the resolutions of the World Health Assembly\n\n\n\nData science\n\n\nHealth\n\n\n\nUsing NLP techniques, network analysis and other data science tools, uncover patterns behind the resolutions adopted by the sessions of the World Health Assembly.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nBatter strategies and their impacts in the IPL\n\n\n\nData science\n\n\nCricket\n\n\n\nSpend time or hit out? How have different strategies affected teams’ winning chances?\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nBollywood films and gender inequality\n\n\n\nData science\n\n\nIndia\n\n\n\nActor-actress age gaps, career and marriage, female-lead films, genres.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nHow affordable are cars with 6+ airbags?\n\n\n\nData science\n\n\nIndia\n\n\n\nA quick look at new and used cars available in the Indian market in September 2022 and June 2023.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nHow close is public transport in Vienna?\n\n\n\nData science\n\n\nVienna\n\n\n\nEvaluating and visualizing accessibility of Vienna’s public transport in various districts.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nHow have different IPL players contributed to their team’s winning chances?\n\n\n\nData science\n\n\nCricket\n\n\n\nDissecting player impacts on the match outcomes by using the win probability index published by ESPNCricinfo.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nTelugu films and gender inequality\n\n\n\nData science\n\n\nIndia\n\n\n\nActor-actress age gaps, career and marriage, female-lead films, genres, birthplaces of heroes and heroines.\n\n\n\n\n\n\n\n\n\n\n\n\nNo matching items"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Hi! I’m  Roshan Prizak!",
    "section": "",
    "text": "I enjoy problem-solving, finding connections between seemingly unrelated ideas, explaining complex ideas by “distilling” them down into simpler ones, and figuring out quantitative approaches to tackle questions that, on first look, seem to evade quantification.\n\nMore ..\n\nIf you want to quickly check out my ideas and projects on the following themes, check out:\ndata science | cricket | the india project | the vienna project | health\n\nNew projects!\n\n\n\n\n\n\n\n\n\n\n\nA closer look into the resolutions of the World Health Assembly\nUsing NLP techniques, network analysis and other data science tools, uncover patterns behind the resolutions adopted by the sessions of the World Health Assembly.\nRead more\n\n\n\n\n\n\n\n\n\n\n\nHow close is public transport in Vienna?\nEvaluating and visualizing accessibility of Vienna’s public transport in various districts.\nRead more\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nIndian films and gender inequality\nActor-actress age gaps, career and marriage, female-lead films, genres, birthplaces of heroes and heroines.\nTelugu movies\nHindi movies\n\n\n\n\n\n\n\n\n\n\n\nHow have different IPL players contributed to their team’s winning chances?\nDissecting player impacts on the match outcomes by using the win probability index published by ESPNCricinfo.\nRead more\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nBatter strategies and their impacts in the IPL\nSpend time or hit out? How have different strategies affected teams’ winning chances?\nRead more"
  },
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "Roshan Prizak",
    "section": "",
    "text": "I enjoy problem-solving, finding connections between seemingly unrelated ideas, explaining complex ideas by “distilling” them down into simpler ones, and figuring out quantitative approaches to tackle questions that, on first look, seem to evade quantification.\nSince getting a bachelor’s degree and a master’s degree in Electrical Engineering from the Indian Institute of Technology Bombay, I’ve obtained a PhD from Institute of Science and Technology Austria in biophysics and evolutionary biology, and I’m currently working as a postdoctoral scientist in biophysics and molecular biology at the Karlsruhe Institute of Technology. I use a lot of data analysis, data modeling and physical modeling in my current postdoc role.\nI’m interested in thinking about complex systems. I’m enthusiastic about data science, languages and policy research, and I would like to work at an intersection of these fields. I’m currently working on various data science projects. Oh, and I would also like to design some board games!"
  },
  {
    "objectID": "blog.html",
    "href": "blog.html",
    "title": "**Roshan** Prizak",
    "section": "",
    "text": "Welcome!\n\n\n\n\n\n\n\nnews\n\n\n\n\n\n\n\n\n\n\n\nOct 22, 2022\n\n\nRoshan Prizak\n\n\n\n\n\n\nNo matching items"
  }
]