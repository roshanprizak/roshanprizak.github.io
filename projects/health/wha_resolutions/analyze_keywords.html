<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.313">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="description" content="Using NLP techniques, network analysis and other data science tools, uncover patterns behind the resolutions adopted by the sessions of the World Health Assembly.">

<title>Roshan Prizak - A closer look into the resolutions of the World Health Assembly</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
</style>


<script src="../../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../../">
<script src="../../../site_libs/quarto-html/quarto.js"></script>
<script src="../../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../../../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../../../site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script src="../../../site_libs/quarto-contrib/glightbox/glightbox.min.js"></script>
<link href="../../../site_libs/quarto-contrib/glightbox/glightbox.min.css" rel="stylesheet">
<link href="../../../site_libs/quarto-contrib/glightbox/lightbox.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script>
<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>


<link rel="stylesheet" href="../../../styles.css">
</head>

<body class="nav-sidebar floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../../../index.html">
    <span class="navbar-title"><strong>Roshan</strong> Prizak</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/"><i class="bi bi-github" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com/roshanprizak"><i class="bi bi-twitter" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://www.instagram.com/roshanprizak/"><i class="bi bi-instagram" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../../index.html">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../about.html">
 <span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../blog.html">
 <span class="menu-text">Blog</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="../../../projects.html" aria-current="page">
 <span class="menu-text">Projects</span></a>
  </li>  
</ul>
              <div class="quarto-toggle-container">
                  <a href="" class="quarto-color-scheme-toggle nav-link" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
              </div>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title">A closer look into the resolutions of the World Health Assembly</h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title d-none d-lg-block">A closer look into the resolutions of the World Health Assembly</h1>
                  <div>
        <div class="description">
          Using NLP techniques, network analysis and other data science tools, uncover patterns behind the resolutions adopted by the sessions of the World Health Assembly.
        </div>
      </div>
                          <div class="quarto-categories">
                <div class="quarto-category">Data science</div>
                <div class="quarto-category">Health</div>
                <div class="quarto-category">In-progress</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation floating overflow-auto">
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../projects.html" class="sidebar-item-text sidebar-link">Projects Overview</a>
  </div>
</li>
        <li class="px-0"><hr class="sidebar-divider hi "></li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../../projects/cricket_analytics/cricket_analytics.html" class="sidebar-item-text sidebar-link">Cricket Analytics</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../projects/cricket_analytics/ipl_batters_strategies/ipl_batters_strategies.html" class="sidebar-item-text sidebar-link">IPL batter strategies</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../projects/cricket_analytics/drs_umpire_bias/drs_umpire_bias.html" class="sidebar-item-text sidebar-link">DRS &amp; umpire bias</a>
  </div>
</li>
      </ul>
  </li>
        <li class="px-0"><hr class="sidebar-divider hi "></li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../../projects/the_india_project/the_india_project.html" class="sidebar-item-text sidebar-link">The India Project</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../projects/the_india_project/car_prices_india/car_prices_india.html" class="sidebar-item-text sidebar-link">Cars &amp; airbags</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../projects/the_india_project/movies_india/movies_india.html" class="sidebar-item-text sidebar-link">Movies</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../projects/the_india_project/dairy_india/dairy_india.html" class="sidebar-item-text sidebar-link">Dairy industry</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../projects/the_india_project/ls_rs_questions/ls_rs_questions.html" class="sidebar-item-text sidebar-link">Rajya Sabha Q&amp;A</a>
  </div>
</li>
      </ul>
  </li>
        <li class="px-0"><hr class="sidebar-divider hi "></li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../../projects/the_vienna_project/the_vienna_project.html" class="sidebar-item-text sidebar-link">The Vienna Project</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../projects/the_vienna_project/public_transport/public_transport.html" class="sidebar-item-text sidebar-link">Best public transport?</a>
  </div>
</li>
      </ul>
  </li>
        <li class="px-0"><hr class="sidebar-divider hi "></li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../../projects/health/health.html" class="sidebar-item-text sidebar-link">Health</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../projects/health/wha_resolutions/analyze_keywords.html" class="sidebar-item-text sidebar-link active">WHA resolutions</a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#introduction" id="toc-introduction" class="nav-link active" data-scroll-target="#introduction">Introduction</a></li>
  <li><a href="#create-a-dataset-of-wha-resolutions" id="toc-create-a-dataset-of-wha-resolutions" class="nav-link" data-scroll-target="#create-a-dataset-of-wha-resolutions">Create a dataset of WHA resolutions</a></li>
  <li><a href="#first-look-at-topics-and-their-time-evolution" id="toc-first-look-at-topics-and-their-time-evolution" class="nav-link" data-scroll-target="#first-look-at-topics-and-their-time-evolution">First look at topics and their time evolution</a></li>
  <li><a href="#identification-of-topics-and-grouping-by-their-time-evolution" id="toc-identification-of-topics-and-grouping-by-their-time-evolution" class="nav-link" data-scroll-target="#identification-of-topics-and-grouping-by-their-time-evolution">Identification of topics and grouping by their time evolution</a>
  <ul class="collapse">
  <li><a href="#monograms-bigrams-topics-and-their-time-evolution" id="toc-monograms-bigrams-topics-and-their-time-evolution" class="nav-link" data-scroll-target="#monograms-bigrams-topics-and-their-time-evolution">Monograms + bigrams: topics and their time evolution</a></li>
  <li><a href="#topic-trajectories-grouped-into-clusters" id="toc-topic-trajectories-grouped-into-clusters" class="nav-link" data-scroll-target="#topic-trajectories-grouped-into-clusters">Topic trajectories grouped into clusters</a></li>
  </ul></li>
  <li><a href="#relationships-among-wha-resolutions" id="toc-relationships-among-wha-resolutions" class="nav-link" data-scroll-target="#relationships-among-wha-resolutions">Relationships among WHA resolutions</a>
  <ul class="collapse">
  <li><a href="#network-of-wha-resolutions" id="toc-network-of-wha-resolutions" class="nav-link" data-scroll-target="#network-of-wha-resolutions">Network of WHA resolutions</a></li>
  <li><a href="#time-evolution-of-topics-found-via-wha-resolution-network" id="toc-time-evolution-of-topics-found-via-wha-resolution-network" class="nav-link" data-scroll-target="#time-evolution-of-topics-found-via-wha-resolution-network">Time evolution of topics found via WHA resolution network</a></li>
  </ul></li>
  <li><a href="#scale-of-assessments" id="toc-scale-of-assessments" class="nav-link" data-scroll-target="#scale-of-assessments">Scale of assessments</a></li>
  <li><a href="#future-directions" id="toc-future-directions" class="nav-link" data-scroll-target="#future-directions">Future directions</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">




<section id="introduction" class="level2">
<h2 class="anchored" data-anchor-id="introduction">Introduction</h2>
<p>In general, WHA is held once every year in May, with the first session being held in 1948 and the 75th session in 2022. Each WHA resolutions is identified by a unique ID of the form <code>WHA{X}.{Y}</code> where <code>X</code> is the session number and <code>Y</code> the resolution number in that session. For example, <code>WHA75.3</code> corresponds to the 3rd resolution from the 75th session. Each resolution concerns a specific topic, and contains many “clauses” that recognize and acknowledge identified problems, issues and concerns, and suggest, recommend, direct various countries, organization and bodies both within and outside the World Health Organization (WHO) to work towards solutions. For example, these are the first few clauses of WHA73.1 from 2020’s session, titled “COVID-19 response”.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="WHA73.1_example.png" class="lightbox" title="Example resolution: WHA73.1 COVID-19 response" data-gallery="quarto-lightbox-gallery-1"><img src="WHA73.1_example.png" class="img-fluid figure-img"></a></p>
<p></p><figcaption class="figure-caption">Example resolution: WHA73.1 COVID-19 response</figcaption><p></p>
</figure>
</div>
<p>In this project, I sought to</p>
<ol type="a">
<li>create a dataset of WHA resolutions over the years,</li>
<li>identify topics covered by WHA resolutions over the years, and track their evolution,</li>
<li>uncover relationships between WHA resolutions and visualize them,</li>
<li>analyze how different countries have contributed to WHO’s budget over the years, and</li>
<li>identify new questions of interest concerning this dataset and other related issues to take up as future projects.</li>
</ol>
</section>
<section id="create-a-dataset-of-wha-resolutions" class="level2">
<h2 class="anchored" data-anchor-id="create-a-dataset-of-wha-resolutions">Create a dataset of WHA resolutions</h2>
<p>To create a clean dataset of WHA resolutions, I followed these general steps:</p>
<ol type="a">
<li>I first obtained the PDF files containing the resolutions from all the WHA sessions so far from the WHO <a href="https://www.who.int">website</a>. I also obtained the titles of these resolutions.<br>
</li>
<li>Using the package <code>PyPDF2</code>, I extracted text from these PDF files and created one text file per resolution.</li>
<li>For the above two steps, all resolutions till 2019 have one PDF file per resolution, but 2020-2022 have one PDF file containing all the resolutions. So, to extract one text file per resolution for 2020-2022 as well, and to clean up the text files (get rid of extra spaces, unwatned special characters, headers and footers that are part of scanned PDFs from some years and have been unwantedly retained in the text files, and references of the form <code>COVID-19 response1</code> from WHA73.1’s title), we run a script that cleans the text files and stores one text file per resolution.</li>
</ol>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="cleaning_process.png" class="lightbox" title="Illustrating the steps from a scanned PDF to a clean TEXT file" data-gallery="quarto-lightbox-gallery-2"><img src="cleaning_process.png" class="img-fluid figure-img"></a></p>
<p></p><figcaption class="figure-caption">Illustrating the steps from a scanned PDF to a clean TEXT file</figcaption><p></p>
</figure>
</div>
<p>Having done these steps, we end up with a list of text files (one per resolution) for each WHA session. We can read these into Python, and see all the information (resolution number of the form <code>WHA{X}.{Y}</code>, title of the resolution, year of the session and the clean text of the resolution) of all the</p>
<div class="cell" data-execution_count="165">
<div class="cell-output cell-output-display" data-execution_count="165">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>number</th>
      <th>title</th>
      <th>year</th>
      <th>text</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>WHA1.10</td>
      <td>Regarding the instruction in statistics in med...</td>
      <td>1948</td>
      <td>s WHEREAS satisfactory health statistics are d...</td>
    </tr>
    <tr>
      <th>1</th>
      <td>WHA1.2</td>
      <td>Resolution 2: regarding the use of the Interna...</td>
      <td>1948</td>
      <td>WHEREAS it is essential that the International...</td>
    </tr>
    <tr>
      <th>2</th>
      <td>WHA1.3</td>
      <td>Resolution 3: regarding the use of lists of se...</td>
      <td>1948</td>
      <td>WHEREAS this Conference has adopted for the Si...</td>
    </tr>
    <tr>
      <th>3</th>
      <td>WHA1.1</td>
      <td>Resolution 1: regarding adoption of the Intern...</td>
      <td>1948</td>
      <td>WHEREAS in recognition of the general trend of...</td>
    </tr>
    <tr>
      <th>4</th>
      <td>WHA1.4</td>
      <td>Resolution 4: regarding the preparation of a l...</td>
      <td>1948</td>
      <td>REAS the Intermediate List of 150 causes does ...</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>3157</th>
      <td>WHA75.16</td>
      <td>Agreement between the World Health Organizatio...</td>
      <td>2022</td>
      <td>Having considered the report on the proposed a...</td>
    </tr>
    <tr>
      <th>3158</th>
      <td>WHA75.17</td>
      <td>Human resources for health</td>
      <td>2022</td>
      <td>Having considered the report by the Director-G...</td>
    </tr>
    <tr>
      <th>3159</th>
      <td>WHA75.18</td>
      <td>Outcome of the SIDS Summit for Health: For a H...</td>
      <td>2022</td>
      <td>Having considered the consolidated report by t...</td>
    </tr>
    <tr>
      <th>3160</th>
      <td>WHA75.19</td>
      <td>Well-being and health promotion</td>
      <td>2022</td>
      <td>Having considered the consolidated report by t...</td>
    </tr>
    <tr>
      <th>3161</th>
      <td>WHA75.20</td>
      <td>The global health sector strategies on, respec...</td>
      <td>2022</td>
      <td>Having considered the consolidated report by t...</td>
    </tr>
  </tbody>
</table>
<p>3162 rows × 4 columns</p>
</div>
</div>
</div>
<p>Note that some of the words in the first session’s resolutions have been cut off at the beginning. There are indeed a few other resolutions where such unwanted errors and typos are present. A common type of typo is a missing space between words. However, these aren’t very common, so I leave them as they are.</p>
</section>
<section id="first-look-at-topics-and-their-time-evolution" class="level2">
<h2 class="anchored" data-anchor-id="first-look-at-topics-and-their-time-evolution">First look at topics and their time evolution</h2>
<p>To get a taste of the topics of WHA resolutions and their evolution over time, I chose a few topics of interest like “Sustainability”, “HIV”, “Climate Change”, “COVID-19” etc. and checked how often short phrases related to each of these topics is present in resolutions from different years.</p>
<div class="cell" data-execution_count="167">
<div class="cell-output cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="analyze_keywords_files/figure-html/cell-6-output-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-3"><img src="analyze_keywords_files/figure-html/cell-6-output-1.png" class="img-fluid figure-img"></a></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="analyze_keywords_files/figure-html/cell-6-output-2.png" class="lightbox" data-gallery="quarto-lightbox-gallery-4"><img src="analyze_keywords_files/figure-html/cell-6-output-2.png" class="img-fluid figure-img"></a></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="analyze_keywords_files/figure-html/cell-6-output-3.png" class="lightbox" data-gallery="quarto-lightbox-gallery-5"><img src="analyze_keywords_files/figure-html/cell-6-output-3.png" class="img-fluid figure-img"></a></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="analyze_keywords_files/figure-html/cell-6-output-4.png" class="lightbox" data-gallery="quarto-lightbox-gallery-6"><img src="analyze_keywords_files/figure-html/cell-6-output-4.png" class="img-fluid figure-img"></a></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="analyze_keywords_files/figure-html/cell-6-output-5.png" class="lightbox" data-gallery="quarto-lightbox-gallery-7"><img src="analyze_keywords_files/figure-html/cell-6-output-5.png" class="img-fluid figure-img"></a></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="analyze_keywords_files/figure-html/cell-6-output-6.png" class="lightbox" data-gallery="quarto-lightbox-gallery-8"><img src="analyze_keywords_files/figure-html/cell-6-output-6.png" class="img-fluid figure-img"></a></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="analyze_keywords_files/figure-html/cell-6-output-7.png" class="lightbox" data-gallery="quarto-lightbox-gallery-9"><img src="analyze_keywords_files/figure-html/cell-6-output-7.png" class="img-fluid figure-img"></a></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="analyze_keywords_files/figure-html/cell-6-output-8.png" class="lightbox" data-gallery="quarto-lightbox-gallery-10"><img src="analyze_keywords_files/figure-html/cell-6-output-8.png" class="img-fluid figure-img"></a></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="analyze_keywords_files/figure-html/cell-6-output-9.png" class="lightbox" data-gallery="quarto-lightbox-gallery-11"><img src="analyze_keywords_files/figure-html/cell-6-output-9.png" class="img-fluid figure-img"></a></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="analyze_keywords_files/figure-html/cell-6-output-10.png" class="lightbox" data-gallery="quarto-lightbox-gallery-12"><img src="analyze_keywords_files/figure-html/cell-6-output-10.png" class="img-fluid figure-img"></a></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="analyze_keywords_files/figure-html/cell-6-output-11.png" class="lightbox" data-gallery="quarto-lightbox-gallery-13"><img src="analyze_keywords_files/figure-html/cell-6-output-11.png" class="img-fluid figure-img"></a></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="analyze_keywords_files/figure-html/cell-6-output-12.png" class="lightbox" data-gallery="quarto-lightbox-gallery-14"><img src="analyze_keywords_files/figure-html/cell-6-output-12.png" class="img-fluid figure-img"></a></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="analyze_keywords_files/figure-html/cell-6-output-13.png" class="lightbox" data-gallery="quarto-lightbox-gallery-15"><img src="analyze_keywords_files/figure-html/cell-6-output-13.png" class="img-fluid figure-img"></a></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="analyze_keywords_files/figure-html/cell-6-output-14.png" class="lightbox" data-gallery="quarto-lightbox-gallery-16"><img src="analyze_keywords_files/figure-html/cell-6-output-14.png" class="img-fluid figure-img"></a></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="analyze_keywords_files/figure-html/cell-6-output-15.png" class="lightbox" data-gallery="quarto-lightbox-gallery-17"><img src="analyze_keywords_files/figure-html/cell-6-output-15.png" class="img-fluid figure-img"></a></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="analyze_keywords_files/figure-html/cell-6-output-16.png" class="lightbox" data-gallery="quarto-lightbox-gallery-18"><img src="analyze_keywords_files/figure-html/cell-6-output-16.png" class="img-fluid figure-img"></a></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="analyze_keywords_files/figure-html/cell-6-output-17.png" class="lightbox" data-gallery="quarto-lightbox-gallery-19"><img src="analyze_keywords_files/figure-html/cell-6-output-17.png" class="img-fluid figure-img"></a></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="analyze_keywords_files/figure-html/cell-6-output-18.png" class="lightbox" data-gallery="quarto-lightbox-gallery-20"><img src="analyze_keywords_files/figure-html/cell-6-output-18.png" class="img-fluid figure-img"></a></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="analyze_keywords_files/figure-html/cell-6-output-19.png" class="lightbox" data-gallery="quarto-lightbox-gallery-21"><img src="analyze_keywords_files/figure-html/cell-6-output-19.png" class="img-fluid figure-img"></a></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="analyze_keywords_files/figure-html/cell-6-output-20.png" class="lightbox" data-gallery="quarto-lightbox-gallery-22"><img src="analyze_keywords_files/figure-html/cell-6-output-20.png" class="img-fluid figure-img"></a></p>
</figure>
</div>
</div>
</div>
</section>
<section id="identification-of-topics-and-grouping-by-their-time-evolution" class="level2">
<h2 class="anchored" data-anchor-id="identification-of-topics-and-grouping-by-their-time-evolution">Identification of topics and grouping by their time evolution</h2>
<p>To uncover more topics covered by WHA resolutions, and use them to find relationships between WHA resolutions, I looked towards natural language processing and network analysis. I used TF-IDF vectorization to find keywords/topics for each resolution and built a network of WHA resolutions by comparing these identified keyword lists.</p>
<p>I won’t go into many details behind the natural language processing pipeline and will only briefly summarize it. Each resolution is associated with two strings - <code>title</code> and <code>text</code>. For both of these strings, we perform usual NLP pre-processing steps like tokenization, removal of stop words, and additional text cleaning like removing special characters and numbers. Then, we also stemmize all the tokens (words) in these strings so that different words like “sustainability”, “sustainable”, “sustain”, “sustains”, “sustaining”, “sustained” are all reduced to a common form “sustain”. This collection of cleaned and stemmized documents (each resolution is a document) is called a corpus. We have two stemmized corpuses - <code>corpus_title</code> and <code>corpus_text</code>. For the following explanation, I’ll refer to <code>corpus_text</code> as the corpus, and we’ll only be using <code>corpus_text</code> in this study.</p>
<p>So, the corpus is a collection of documents (resolutions), and each document is a collection of words (after having removed special characters, numbers and stop words which are commonly occuring English words like “the”, “a” etc.). For each word in the corpus, we can calculate its <code>document frequency</code>, which is the fraction of documents containing the word. For each pair of word and document, we can also calculate the <code>TF-IDF score</code>, a score that is a combination of term frequency and inverse document frequency. What is important to note is that TF-IDF score is intended to reflect how important a word is to a document.</p>
<p>First, we’ll check these two values for all the words in the corpus, and also check how the vocabulary size (no. of words) changes as we modify the minimum document frequency and maximum document frequency allowed.</p>
<div class="cell" data-execution_count="169">
<div class="cell-output cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="analyze_keywords_files/figure-html/cell-8-output-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-23"><img src="analyze_keywords_files/figure-html/cell-8-output-1.png" class="img-fluid figure-img"></a></p>
</figure>
</div>
</div>
</div>
<p>Words with a very high document frequency are probably those that aren’t very relevant to the specific topic of the resolution, and are just very often used in WHA resolutions. So, using a maximum allowed document frequency is a good way to exclude those words from further analysis. We’ll use a maximum document frequency of either 0.05 or 0.1. This means that we’ll exclude words that are present in more than 5% (around 150 resolutions) or than 10% (around 300 resolutions) of documents.</p>
<p>We can also put a minimum document frequency, which will require words to be present in at least a specific number of resolutions, for example 5, 10 or 50. This will get rid of super-specific words, typos and other such errors. Putting these restrictions on what words we are willing to consider, we then proceed to calculate the TF-IDF score for each document-word pair. Remember, the TF-IDF score is intended to quantify a word’s importance in a document. Then, for each document, we select the top <code>n_w</code> words with the highest TF-IDF scores.</p>
<p>We’ll count both single words (monograms) and two-word phrases (bigrams) - they will be called topics together. Using minimum document frequency as 50 resolutions, maximum document frequency as 5% (around 150 resolutions) and obtaining top <code>n_w = 10</code> topics from each document, we obtain a total of <strong>1136 unique topics</strong>.</p>
<p>Here are a few examples.</p>
<div class="cell" data-execution_count="416">
<div class="cell-output cell-output-stdout">
<pre><code>WHA3.5: International certificates of vaccination
Topics: certif, replac, convent, quarantin, inconform, travel, note recommend, smallpox, enter, sanitari

WHA3.68: General promotion of health
Topics: health report, approv programm, matern child, assembl approv, child health, promot health, budget estim, board director, mental health, propos programm

WHA3.80: Level of expenditure for 1950
Topics: expenditur, pend, assembl approv, creat, commend, exceed, author director

WHA9.48: Additional regulations of 23 May 1956 amending the International Sanitary Regulations with respect to the sanitary control of pilgrim traffic
Topics: sanitari, text, day, hygien, mention, definit, forc, worker, tion, entri

WHA10.29: Criteria for provision of regional office accommodation
Topics: perman, criteria, region offic, report thereon, expect, believ, anda, thereon, assembl plenari

WHA12.54: Smallpox eradication
Topics: erad, smallpox, erad programm, accomplish, endem, demonstr, futur year, recommend health, asia, period year

WHA12.22: WHO partcipation in the Expanded Programme of Technical Assistance: programme aspects
Topics: futur year, express concern, consolid, programm technic, programm request, expand programm, natur, inclus, gener programm

WHA20.28: Annual report of the United Nations Joint Staff Pension Board for 1965
Topics: report year, staff pension, year report, pension, annual report

WHA22.29: Prevention of blindness
Topics: government, organ concern, identif, injuri, systemat, assembl recogn, conduct, ordin, programm work, communic

WHA25.10: Scale of assessment for 1973
Topics: percentag, arab, arab republ, yemen, ireland, costa, costa rica, ireland unit, kuwait, mauritiu

WHA28.54: Prevention of blindness
Topics: government nongovernment, programm report, connexion, countri develop, nation programm, introduc, develop nation, detect, suffer, assembl recogn

WHA28.79: Special assistance to Cambodia, the Democratic Republic of Viet-Nam, and the Republic of South Viet-Nam
Topics: viet, viet nam, nam, cambodia, democrat republ, democrat, south, larg, assist provid, mobil resourc

WHA32.33: Respiratory diseases
Topics: chronic, acut, control programm, high prioriti, element, consciou, global level, activ health, assembl inform, infant

WHA40.21: Health and medical assistance to Lebanon
Topics: lebanon, bodi unit, government nongovernment, ministri health, relief, ministri, programm health, express appreci, government, expans

WHA43.24: Report of the International Conference for the Tenth Revision of the International Classification of Diseases
Topics: statist, mortal, code, list, morbid, concept, short, categori, core, infant

WHA64.17: Malaria
Topics: malaria, combin, resist, millennium, manufactur, millennium develop, burden, endem, regulatori, elimin

WHA65.21: Elimination of schistosomiasis
Topics: transmiss, endem, elimin, congratul, tropic, campaign, analys, control programm, success, guidanc

WHA66.10: Follow-up to the Political Declaration of the High-level Meeting of the General Assembly on the Prevention and Control of Non-communicable Diseases
Topics: communic, communic diseas, control communic, tobacco, action plan, option, harm, intervent, cancer, physic

WHA67.7: Disability
Topics: disabl, action plan, health peopl, accomplish, region nation, bank, geneva health, gener implement, document document, submit report
</code></pre>
</div>
</div>
<section id="monograms-bigrams-topics-and-their-time-evolution" class="level3">
<h3 class="anchored" data-anchor-id="monograms-bigrams-topics-and-their-time-evolution">Monograms + bigrams: topics and their time evolution</h3>
<p>To visualize the found topics and their time evolution of occurance in WHA resolutions, we cluster the topics according to their time trajectory of counts and visualize as a heatmap. Topics with similar trajectories are clustered together for easier visualization.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="ngram12_cluster_heatmap.png" class="lightbox" title="1-gram + 2-gram clustered heatmap of topics" data-gallery="quarto-lightbox-gallery-24"><img src="ngram12_cluster_heatmap.png" class="img-fluid figure-img"></a></p>
<p></p><figcaption class="figure-caption">1-gram + 2-gram clustered heatmap of topics</figcaption><p></p>
</figure>
</div>
</section>
<section id="topic-trajectories-grouped-into-clusters" class="level3">
<h3 class="anchored" data-anchor-id="topic-trajectories-grouped-into-clusters">Topic trajectories grouped into clusters</h3>
<p>The heatmap contains a lot of topics but we see that we can group topics into groups according to the similarity in their time evolution. We perform this grouping quantitatively by employing <code>k-means clustering</code>. Taking a matrix of presence/absence of topics in resolutions each year, we perform k-means clustering for a range of number of clusters to find the optimal number of clusters (elbow point). Then we perform k-means clustering for the optimal number of clusters (32), we visualize the time trajectories of each of these clusters and also show some of the topics in each cluster.</p>
<div class="cell" data-execution_count="375">
<div class="cell-output cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="analyze_keywords_files/figure-html/cell-16-output-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-25"><img src="analyze_keywords_files/figure-html/cell-16-output-1.png" class="img-fluid figure-img"></a></p>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="relationships-among-wha-resolutions" class="level2">
<h2 class="anchored" data-anchor-id="relationships-among-wha-resolutions">Relationships among WHA resolutions</h2>
<p>Next, to find relationships among WHA resolutions, we start from the same TF-IDF based topics for each resolution. Then for each pair of resolutions, we add an “edge” if they share a sufficient number of topics. This way, we generate a network in which nodes are made up of WHA resolutions and edges depict resolution pairs sharing common topics.</p>
<p>The set of parameters used to generate the topics and form the edges of the network are crucial towards the characteristics of the network. For example, the parameters we discussed before - minimum document frequency, maximum document frequency, n-grams used, number of topics per resolution - all matter. Fixing the minimum document frequency to 50 documents, maximum document frequency to 10%, using monograms and bigrams, below we vary (a) the number of topics per resolution and (b) minimum number of shared topics to form an edge, to generate a network of WHA resolutions.</p>
<p>For each set of parameters, we use the Louvain method for community detection on the resulting network, and calculate a set of metrics to assess the quality of detected communities (partitions). For example, <code>modularity</code> which is the value optimized in the Louvain’s method, measures the density of links inside communities compared to links between communities, is one such metric. A high modularity reflects a good partitioning. However, a lot of nodes (resolutions) with no edges with any other nodes, i.e.&nbsp;resolutions that are in their own partition and aren’t associated with any other resolutions, will result in a high modularity.</p>
<p>To correct for this, we also calculate other metrics - number of partitions, number of non-isolated partitions (partitions with more than one resolution in them), fraction of resolutions in non-isolated partitions, and average number of resolutions per non-isolated partition. Among these, fraction of resolutions in non-isolated partitions is a metric that we would like to be high - a lot of resolutions are grouped with one other resolution into some partition this way. As one would expect, more topics per resolution increases this metric, and more common topics to form an edge decreases this metric.</p>
<p>Modularity and the fraction of resolutions in non-isolated partitions follow opposite trends. To balance these two forces, both of which we want to be high, we define a <code>goodness score</code> of partitioning as their product. We find that this goodness of partition is the highest (0.76) when the number of topics per resolution is 5 and the minimum number of common topics for an edge is 2.</p>
<div class="cell" data-execution_count="236">
<div class="cell-output cell-output-display" data-execution_count="236">
<pre><code>Text(0.5, 210.1666666666666, 'Minimum topics for edge')</code></pre>
</div>
<div class="cell-output cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="analyze_keywords_files/figure-html/cell-18-output-2.png" class="lightbox" data-gallery="quarto-lightbox-gallery-26"><img src="analyze_keywords_files/figure-html/cell-18-output-2.png" class="img-fluid figure-img"></a></p>
</figure>
</div>
</div>
</div>
<section id="network-of-wha-resolutions" class="level3">
<h3 class="anchored" data-anchor-id="network-of-wha-resolutions">Network of WHA resolutions</h3>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="WHA_network_annotated.png" class="lightbox" title="WHA resolution network with nodes colored by the partition they belong to, and topics of the partitions." data-gallery="quarto-lightbox-gallery-27"><img src="WHA_network_annotated.png" class="img-fluid figure-img"></a></p>
<p></p><figcaption class="figure-caption">WHA resolution network with nodes colored by the partition they belong to, and topics of the partitions.</figcaption><p></p>
</figure>
</div>
</section>
<section id="time-evolution-of-topics-found-via-wha-resolution-network" class="level3">
<h3 class="anchored" data-anchor-id="time-evolution-of-topics-found-via-wha-resolution-network">Time evolution of topics found via WHA resolution network</h3>
<p>From the Louvain partitions of the WHA resolution network, we find the most frequent topics in the resolutions belonging to each partition and assign them as the “partition topics”.</p>
<p><strong>Partition topics and their time evolution</strong></p>
<div class="cell" data-execution_count="381">
<div class="cell-output cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="analyze_keywords_files/figure-html/cell-23-output-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-28"><img src="analyze_keywords_files/figure-html/cell-23-output-1.png" class="img-fluid figure-img"></a></p>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="scale-of-assessments" class="level2">
<h2 class="anchored" data-anchor-id="scale-of-assessments">Scale of assessments</h2>
<p>I also extracted the scale of assessments every ten years, specifically for the years 1962, 1972, 1982, 1992, 2002, 2012 and 2022. These denote the percentage contributions to the WHO budget by each country. I visualized these on a heatmap and clustered countries that have contributed similarly over the years into groups.</p>
<p>There seem to 4-6 groups of countries according to their level of contributions + changes in their contributions. The USA, China, Canada, Italy, Japan, Germany, France and the UK have contributed most fractions of the budget.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="scale_of_assessments_clustermap.png" class="lightbox" title="Scale of assessments" data-gallery="quarto-lightbox-gallery-29"><img src="scale_of_assessments_clustermap.png" class="img-fluid figure-img"></a></p>
<p></p><figcaption class="figure-caption">Scale of assessments</figcaption><p></p>
</figure>
</div>
</section>
<section id="future-directions" class="level2">
<h2 class="anchored" data-anchor-id="future-directions">Future directions</h2>
<ol type="1">
<li>Quantify WHA resolution network characteristics over years in n-year periods: understand evolution of network architecture.</li>
<li>Compare and supplement usage of resolution titles to such above analysis.</li>
<li>Analyze citation network of WHA resolutions.</li>
</ol>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">© Copyright 2022 Roshan Prizak. Except where otherwise noted, all text and images licensed CC-BY-NC 4.0.</div>   
  </div>
</footer>
<script>var lightboxQuarto = GLightbox({"descPosition":"bottom","loop":true,"openEffect":"zoom","selector":".lightbox","closeEffect":"zoom"});</script>



</body></html>